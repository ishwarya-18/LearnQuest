{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/documents/LearnQuest/frontend/src/components/LearningModules.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { BookOpenCheck, GraduationCap, MonitorPlay, PackageOpen, SquareArrowDownRight, Captions, Clapperboard, Library, ArrowRight } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { cn } from \"@/lib/utils\";\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"@/components/ui/tabs\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { useCallback } from \"react\";\nimport {\n  Select,\n  SelectTrigger,\n  SelectContent,\n  SelectItem,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { useRouter } from \"next/navigation\";\n\ntype LanguageCode = \"en\" | \"hi\" | \"es\";\n\ntype ChapterContent = {\n  id: string;\n  title: Record<LanguageCode, string>;\n  description: Record<LanguageCode, string>;\n  thumbUnsplash: string;\n  quiz: {\n    questions: Array<{\n      id: string;\n      difficulty: \"easy\" | \"medium\" | \"hard\";\n      prompt: Record<LanguageCode, string>;\n      options: Array<{ id: string; label: Record<LanguageCode, string> }>;\n      correctOptionId: string;\n      explainer: Record<LanguageCode, string>;\n    }>;\n    passThreshold: number;\n  };\n  reward: {\n    title: Record<LanguageCode, string>;\n    description: Record<LanguageCode, string>;\n  };\n};\n\ntype Module = {\n  id: string;\n  title: Record<LanguageCode, string>;\n  chapters: ChapterContent[];\n};\n\nexport interface LearningModulesProps {\n  className?: string;\n  modules?: Module[];\n  initialLanguage?: LanguageCode;\n  onProgressChange?: (progressPercent: number) => void;\n}\n\ntype ChapterState = {\n  unlocked: boolean;\n  completed: boolean;\n  scorePercent: number;\n};\n\ntype AnswerMap = Record<string, string | undefined>;\n\nconst DEFAULT_MODULES: Module[] = [\n  {\n    id: \"module-1\",\n    title: {\n      en: \"Journey into Fractions\",\n      hi: \"भिन्नों की यात्रा\",\n      es: \"Viaje a las Fracciones\",\n    },\n    chapters: [\n      {\n        id: \"ch-1\",\n        title: {\n          en: \"Mission 1: Sharing Slices\",\n          hi: \"मिशन 1: टुकड़ों को बाँटना\",\n          es: \"Misión 1: Compartiendo porciones\",\n        },\n        description: {\n          en: \"Learn how to split a whole into equal parts using everyday stories.\",\n          hi: \"रोज़मर्रा की कहानियों से पूरे को बराबर भागों में बाँटना सीखें।\",\n          es: \"Aprende a dividir un entero en partes iguales con historias cotidianas.\",\n        },\n        thumbUnsplash:\n          \"https://images.unsplash.com/photo-1488477181946-6428a0291777?q=80&w=1200&auto=format&fit=crop\",\n        quiz: {\n          passThreshold: 70,\n          questions: [\n            {\n              id: \"q1\",\n              difficulty: \"easy\",\n              prompt: {\n                en: \"You cut a roti into 4 equal parts and eat 1. What fraction did you eat?\",\n                hi: \"आपने रोटी को 4 बराबर भागों में काटा और 1 खाया। आपने कितनी भिन्न खाई?\",\n                es: \"Cortas una tortilla en 4 partes iguales y comes 1. ¿Qué fracción comiste?\",\n              },\n              options: [\n                {\n                  id: \"a\",\n                  label: { en: \"1/4\", hi: \"1/4\", es: \"1/4\" },\n                },\n                {\n                  id: \"b\",\n                  label: { en: \"1/3\", hi: \"1/3\", es: \"1/3\" },\n                },\n                {\n                  id: \"c\",\n                  label: { en: \"1/2\", hi: \"1/2\", es: \"1/2\" },\n                },\n              ],\n              correctOptionId: \"a\",\n              explainer: {\n                en: \"1 out of 4 equal parts is 1/4.\",\n                hi: \"4 बराबर भागों में से 1 भाग 1/4 होता है।\",\n                es: \"1 de 4 partes iguales es 1/4.\",\n              },\n            },\n            {\n              id: \"q2\",\n              difficulty: \"medium\",\n              prompt: {\n                en: \"Which picture shows halves?\",\n                hi: \"कौन सी तस्वीर आधे दिखाती है?\",\n                es: \"¿Qué imagen muestra mitades?\",\n              },\n              options: [\n                { id: \"a\", label: { en: \"A circle split into 2 equal parts\", hi: \"2 बराबर भागों में बँटा गोला\", es: \"Un círculo dividido en 2 partes iguales\" } },\n                { id: \"b\", label: { en: \"A circle split into 3 equal parts\", hi: \"3 बराबर भागों में बँटा गोला\", es: \"Un círculo dividido en 3 partes iguales\" } },\n                { id: \"c\", label: { en: \"A whole circle\", hi: \"पूरा गोला\", es: \"Un círculo entero\" } },\n              ],\n              correctOptionId: \"a\",\n              explainer: {\n                en: \"Halves are 2 equal parts.\",\n                hi: \"आधा मतलब 2 बराबर भाग।\",\n                es: \"Mitades son 2 partes iguales.\",\n              },\n            },\n            {\n              id: \"q3\",\n              difficulty: \"hard\",\n              prompt: {\n                en: \"Select the fraction equivalent to 2/4.\",\n                hi: \"2/4 के समतुल्य भिन्न चुनें।\",\n                es: \"Selecciona la fracción equivalente a 2/4.\",\n              },\n              options: [\n                { id: \"a\", label: { en: \"1/2\", hi: \"1/2\", es: \"1/2\" } },\n                { id: \"b\", label: { en: \"1/4\", hi: \"1/4\", es: \"1/4\" } },\n                { id: \"c\", label: { en: \"3/4\", hi: \"3/4\", es: \"3/4\" } },\n              ],\n              correctOptionId: \"a\",\n              explainer: {\n                en: \"2/4 simplifies to 1/2 by dividing numerator and denominator by 2.\",\n                hi: \"अंश और हर को 2 से भाग देकर 2/4 = 1/2।\",\n                es: \"2/4 se simplifica a 1/2 dividiendo numerador y denominador por 2.\",\n              },\n            },\n          ],\n        },\n        reward: {\n          title: {\n            en: \"Slice Scout\",\n            hi: \"स्लाइस स्काउट\",\n            es: \"Explorador de Porciones\",\n          },\n          description: {\n            en: \"Awarded for mastering basic fractions.\",\n            hi: \"आधारभूत भिन्नों में महारत के लिए।\",\n            es: \"Otorgado por dominar fracciones básicas.\",\n          },\n        },\n      },\n      {\n        id: \"ch-2\",\n        title: {\n          en: \"Mission 2: Fair Sharing\",\n          hi: \"मिशन 2: समान बाँट\",\n          es: \"Misión 2: Reparto justo\",\n        },\n        description: {\n          en: \"Compare fractions to decide fair shares among friends.\",\n          hi: \"मित्रों के बीच बराबर बाँट तय करने हेतु भिन्नों की तुलना करें।\",\n          es: \"Compara fracciones para decidir repartos justos entre amigos.\",\n        },\n        thumbUnsplash:\n          \"https://images.unsplash.com/photo-1517676109075-9ca8c2fc3a5e?q=80&w=1200&auto=format&fit=crop\",\n        quiz: {\n          passThreshold: 70,\n          questions: [\n            {\n              id: \"q1\",\n              difficulty: \"easy\",\n              prompt: {\n                en: \"Which is larger: 3/4 or 2/4?\",\n                hi: \"कौन बड़ा है: 3/4 या 2/4?\",\n                es: \"¿Cuál es mayor: 3/4 o 2/4?\",\n              },\n              options: [\n                { id: \"a\", label: { en: \"3/4\", hi: \"3/4\", es: \"3/4\" } },\n                { id: \"b\", label: { en: \"2/4\", hi: \"2/4\", es: \"2/4\" } },\n                { id: \"c\", label: { en: \"Equal\", hi: \"समान\", es: \"Igual\" } },\n              ],\n              correctOptionId: \"a\",\n              explainer: {\n                en: \"With same denominator, the bigger numerator is larger.\",\n                hi: \"हर समान होने पर बड़ा अंश बड़ी भिन्न।\",\n                es: \"Con el mismo denominador, el numerador mayor es más grande.\",\n              },\n            },\n            {\n              id: \"q2\",\n              difficulty: \"medium\",\n              prompt: {\n                en: \"Which is closer to 1: 5/6 or 3/4?\",\n                hi: \"1 के अधिक निकट कौन है: 5/6 या 3/4?\",\n                es: \"¿Cuál está más cerca de 1: 5/6 o 3/4?\",\n              },\n              options: [\n                { id: \"a\", label: { en: \"5/6\", hi: \"5/6\", es: \"5/6\" } },\n                { id: \"b\", label: { en: \"3/4\", hi: \"3/4\", es: \"3/4\" } },\n                { id: \"c\", label: { en: \"Both equal\", hi: \"दोनों समान\", es: \"Ambos iguales\" } },\n              ],\n              correctOptionId: \"a\",\n              explainer: {\n                en: \"5/6 is 1/6 away from 1; 3/4 is 1/4 away.\",\n                hi: \"5/6, 1 से 1/6 दूर; 3/4, 1 से 1/4 दूर।\",\n                es: \"5/6 está a 1/6 de 1; 3/4 está a 1/4.\",\n              },\n            },\n          ],\n        },\n        reward: {\n          title: {\n            en: \"Fair Share Hero\",\n            hi: \"फेयर शेयर हीरो\",\n            es: \"Héroe del Reparto Justo\",\n          },\n          description: {\n            en: \"For comparing and ordering fractions.\",\n            hi: \"भिन्नों की तुलना और क्रम के लिए।\",\n            es: \"Por comparar y ordenar fracciones.\",\n          },\n        },\n      },\n      {\n        id: \"ch-3\",\n        title: {\n          en: \"Mission 3: Mix and Match\",\n          hi: \"मिशन 3: मिश्रित भिन्न\",\n          es: \"Misión 3: Mezcla y Combina\",\n        },\n        description: {\n          en: \"Understand mixed numbers and improper fractions.\",\n          hi: \"मिश्रित और अशुद्ध भिन्नों को समझें।\",\n          es: \"Comprende números mixtos y fracciones impropias.\",\n        },\n        thumbUnsplash:\n          \"https://images.unsplash.com/photo-1512790182412-b19e6d62bc39?q=80&w=1200&auto=format&fit=crop\",\n        quiz: {\n          passThreshold: 70,\n          questions: [\n            {\n              id: \"q1\",\n              difficulty: \"medium\",\n              prompt: {\n                en: \"Which is the mixed form of 7/4?\",\n                hi: \"7/4 का मिश्रित रूप क्या है?\",\n                es: \"¿Cuál es la forma mixta de 7/4?\",\n              },\n              options: [\n                { id: \"a\", label: { en: \"1 3/4\", hi: \"1 3/4\", es: \"1 3/4\" } },\n                { id: \"b\", label: { en: \"2 1/4\", hi: \"2 1/4\", es: \"2 1/4\" } },\n                { id: \"c\", label: { en: \"1 1/3\", hi: \"1 1/3\", es: \"1 1/3\" } },\n              ],\n              correctOptionId: \"a\",\n              explainer: {\n                en: \"7/4 = 1 whole and 3/4.\",\n                hi: \"7/4 = 1 पूरा और 3/4।\",\n                es: \"7/4 = 1 entero y 3/4.\",\n              },\n            },\n            {\n              id: \"q2\",\n              difficulty: \"hard\",\n              prompt: {\n                en: \"Convert 2 2/3 to an improper fraction.\",\n                hi: \"2 2/3 को अशुद्ध भिन्न में बदलें।\",\n                es: \"Convierte 2 2/3 a fracción impropia.\",\n              },\n              options: [\n                { id: \"a\", label: { en: \"8/3\", hi: \"8/3\", es: \"8/3\" } },\n                { id: \"b\", label: { en: \"7/3\", hi: \"7/3\", es: \"7/3\" } },\n                { id: \"c\", label: { en: \"5/3\", hi: \"5/3\", es: \"5/3\" } },\n              ],\n              correctOptionId: \"a\",\n              explainer: {\n                en: \"2×3 + 2 = 8; denominator 3 stays: 8/3.\",\n                hi: \"2×3 + 2 = 8; हर 3 रहता है: 8/3।\",\n                es: \"2×3 + 2 = 8; el denominador 3 se mantiene: 8/3.\",\n              },\n            },\n          ],\n        },\n        reward: {\n          title: {\n            en: \"Master Mixer\",\n            hi: \"मास्टर मिक्सर\",\n            es: \"Maestro de Mezclas\",\n          },\n          description: {\n            en: \"For mastering mixed numbers.\",\n            hi: \"मिश्रित संख्याओं में महारत के लिए।\",\n            es: \"Por dominar números mixtos.\",\n          },\n        },\n      },\n    ],\n  },\n];\n\nfunction clamp(n: number, min = 0, max = 100) {\n  return Math.max(min, Math.min(max, n));\n}\n\nfunction computeModuleProgress(states: ChapterState[]): number {\n  if (!states.length) return 0;\n  const per = states.reduce((acc, s) => acc + (s.completed ? 100 : s.scorePercent), 0) / states.length;\n  return clamp(Math.round(per));\n}\n\nfunction t<T extends Record<LanguageCode, string>>(m: T, lang: LanguageCode): string {\n  return m[lang];\n}\n\nexport default function LearningModules({\n  className,\n  modules = DEFAULT_MODULES,\n  initialLanguage = \"en\",\n  onProgressChange,\n}: LearningModulesProps) {\n  const router = useRouter();\n  const [language, setLanguage] = useState<LanguageCode>(initialLanguage);\n  const [activeModuleIdx, setActiveModuleIdx] = useState(0);\n  const activeModule = modules[activeModuleIdx];\n  const [activeChapterIdx, setActiveChapterIdx] = useState(0);\n  const [answers, setAnswers] = useState<AnswerMap>({});\n  const [chapterStates, setChapterStates] = useState<ChapterState[]>(\n    () =>\n      activeModule.chapters.map((_, i) => ({\n        unlocked: i === 0,\n        completed: false,\n        scorePercent: 0,\n      })) as ChapterState[]\n  );\n  const [dataSaver, setDataSaver] = useState<boolean>(true);\n  const [offlineReady, setOfflineReady] = useState<boolean>(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [currentTab, setCurrentTab] = useState<\"learn\" | \"quiz\" | \"rewards\">(\"learn\");\n  const [adaptiveLevel, setAdaptiveLevel] = useState<\"easy\" | \"medium\" | \"hard\">(\"easy\");\n  const [randomQuizQuestions, setRandomQuizQuestions] = useState<any[]>([]);\n  const [isGeneratingQuiz, setIsGeneratingQuiz] = useState(false);\n\n  const activeChapter = activeModule.chapters[activeChapterIdx];\n  const activeQuiz = activeChapter.quiz;\n\n  const filteredQuestions = useMemo(() => {\n    const byLevel = activeQuiz.questions.filter((q) => q.difficulty === adaptiveLevel);\n    const fallback = activeQuiz.questions.slice(0, 2);\n    const merged = byLevel.length >= 2 ? byLevel : Array.from(new Set([...byLevel, ...fallback]));\n    return merged.slice(0, 3);\n  }, [activeQuiz.questions, adaptiveLevel]);\n\n  const progressPercent = useMemo(() => computeModuleProgress(chapterStates), [chapterStates]);\n\n  useEffect(() => {\n    onProgressChange?.(progressPercent);\n  }, [progressPercent, onProgressChange]);\n\n  // Load persisted state\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    try {\n      const key = `lq:${activeModule.id}:state`;\n      const raw = localStorage.getItem(key);\n      if (raw) {\n        const parsed = JSON.parse(raw) as {\n          chapterStates: ChapterState[];\n          language?: LanguageCode;\n          offlineReady?: boolean;\n        };\n        setChapterStates(parsed.chapterStates ?? chapterStates);\n        if (parsed.language) setLanguage(parsed.language);\n        setOfflineReady(Boolean(parsed.offlineReady));\n      }\n    } catch {\n      // no-op\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeModule.id]);\n\n  // Persist state\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const key = `lq:${activeModule.id}:state`;\n    const payload = JSON.stringify({ chapterStates, language, offlineReady });\n    try {\n      localStorage.setItem(key, payload);\n    } catch {\n      // storage might be unavailable\n    }\n  }, [activeModule.id, chapterStates, language, offlineReady]);\n\n  // Reset when chapter changes\n  useEffect(() => {\n    setAnswers({});\n    setCurrentTab(\"learn\");\n    setRandomQuizQuestions([]);\n  }, [activeChapterIdx]);\n\n  // Auto move to next on completion\n  useEffect(() => {\n    if (chapterStates[activeChapterIdx]?.completed) {\n      const isLast = activeChapterIdx === activeModule.chapters.length - 1;\n      if (!isLast) {\n        const timer = setTimeout(() => {\n          setActiveChapterIdx((i) => i + 1);\n          setCurrentTab(\"learn\");\n        }, 900);\n        return () => clearTimeout(timer);\n      }\n    }\n    return;\n  }, [chapterStates, activeChapterIdx, activeModule.chapters.length]);\n\n  // Question pool for random quizzes\n  const questionPool = useMemo(() => [\n    {\n      id: \"rq-1\",\n      difficulty: \"easy\",\n      prompt: {\n        en: \"What is the capital of France?\",\n        hi: \"फ्रांस की राजधानी क्या है?\",\n        es: \"¿Cuál es la capital de Francia?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Paris\", hi: \"पेरिस\", es: \"París\" } },\n        { id: \"b\", label: { en: \"Berlin\", hi: \"बर्लिन\", es: \"Berlín\" } },\n        { id: \"c\", label: { en: \"Madrid\", hi: \"मैड्रिड\", es: \"Madrid\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"Paris is the capital and most populous city of France.\",\n        hi: \"पेरिस फ्रांस की राजधानी और सबसे अधिक आबादी वाला शहर है।\",\n        es: \"París es la capital y la ciudad más poblada de Francia.\"\n      }\n    },\n    {\n      id: \"rq-2\",\n      difficulty: \"easy\",\n      prompt: {\n        en: \"Which planet is known as the Red Planet?\",\n        hi: \"लाल ग्रह के रूप में किस ग्रह को जाना जाता है?\",\n        es: \"¿Qué planeta es conocido como el Planeta Rojo?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Earth\", hi: \"पृथ्वी\", es: \"Tierra\" } },\n        { id: \"b\", label: { en: \"Mars\", hi: \"मंगल\", es: \"Marte\" } },\n        { id: \"c\", label: { en: \"Jupiter\", hi: \"बृहस्पति\", es: \"Júpiter\" } }\n      ],\n      correctOptionId: \"b\",\n      explainer: {\n        en: \"Mars appears red due to iron oxide (rust) on its surface.\",\n        hi: \"मंगल अपनी सतह पर आयरन ऑक्साइड (जंग) के कारण लाल दिखाई देता है।\",\n        es: \"Marte aparece rojo debido al óxido de hierro (óxido) en su superficie.\"\n      }\n    },\n    {\n      id: \"rq-3\",\n      difficulty: \"medium\",\n      prompt: {\n        en: \"What is 9 × 7?\",\n        hi: \"9 × 7 क्या है?\",\n        es: \"¿Cuánto es 9 × 7?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"63\", hi: \"63\", es: \"63\" } },\n        { id: \"b\", label: { en: \"56\", hi: \"56\", es: \"56\" } },\n        { id: \"c\", label: { en: \"72\", hi: \"72\", es: \"72\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"9 times 7 equals 63.\",\n        hi: \"9 गुना 7 बराबर 63।\",\n        es: \"9 por 7 es igual a 63.\"\n      }\n    },\n    {\n      id: \"rq-4\",\n      difficulty: \"medium\",\n      prompt: {\n        en: \"Who wrote 'Romeo and Juliet'?\",\n        hi: \"'रोमियो और जूलियट' किसने लिखा?\",\n        es: \"¿Quién escribió 'Romeo y Julieta'?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"William Shakespeare\", hi: \"विलियम शेक्सपियर\", es: \"William Shakespeare\" } },\n        { id: \"b\", label: { en: \"Charles Dickens\", hi: \"चार्ल्स डिकेंस\", es: \"Charles Dickens\" } },\n        { id: \"c\", label: { en: \"Jane Austen\", hi: \"जेन ऑस्टेन\", es: \"Jane Austen\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"William Shakespeare wrote this famous tragedy in the late 16th century.\",\n        hi: \"विलियम शेक्सपियर ने यह प्रसिद्ध त्रासदी 16वीं सदी के अंत में लिखी थी।\",\n        es: \"William Shakespeare escribió esta famosa tragedia a finales del siglo XVI.\"\n      }\n    },\n    {\n      id: \"rq-5\",\n      difficulty: \"hard\",\n      prompt: {\n        en: \"What is the chemical symbol for gold?\",\n        hi: \"सोने का रासायनिक प्रतीक क्या है?\",\n        es: \"¿Cuál es el símbolo químico del oro?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Au\", hi: \"Au\", es: \"Au\" } },\n        { id: \"b\", label: { en: \"Ag\", hi: \"Ag\", es: \"Ag\" } },\n        { id: \"c\", label: { en: \"Go\", hi: \"Go\", es: \"Go\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"The symbol Au comes from the Latin word for gold, 'aurum'.\",\n        hi: \"Au प्रतीक सोने के लिए लैटिन शब्द 'ऑरम' से आया है।\",\n        es: \"El símbolo Au proviene de la palabra latina para oro, 'aurum'.\"\n      }\n    },\n    {\n      id: \"rq-6\",\n      difficulty: \"easy\",\n      prompt: {\n        en: \"Which is the largest ocean on Earth?\",\n        hi: \"पृथ्वी पर सबसे बड़ा महासागर कौन सा है?\",\n        es: \"¿Cuál es el océano más grande de la Tierra?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Atlantic\", hi: \"अटलांटिक\", es: \"Atlántico\" } },\n        { id: \"b\", label: { en: \"Indian\", hi: \"हिंद महासागर\", es: \"Índico\" } },\n        { id: \"c\", label: { en: \"Pacific\", hi: \"प्रशांत\", es: \"Pacífico\" } }\n      ],\n      correctOptionId: \"c\",\n      explainer: {\n        en: \"The Pacific Ocean is the largest and deepest ocean on Earth.\",\n        hi: \"प्रशांत महासागर पृथ्वी पर सबसे बड़ा और गहरा महासागर है।\",\n        es: \"El Océano Pacífico es el océano más grande y profundo de la Tierra.\"\n      }\n    },\n    {\n      id: \"rq-7\",\n      difficulty: \"medium\",\n      prompt: {\n        en: \"What gas do plants absorb from the atmosphere?\",\n        hi: \"पौधे वायुमंडल से कौन सी गैस अवशोषित करते हैं?\",\n        es: \"¿Qué gas absorben las plantas de la atmósfera?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Oxygen\", hi: \"ऑक्सीजन\", es: \"Oxígeno\" } },\n        { id: \"b\", label: { en: \"Carbon Dioxide\", hi: \"कार्बन डाइऑक्साइड\", es: \"Dióxido de carbono\" } },\n        { id: \"c\", label: { en: \"Nitrogen\", hi: \"नाइट्रोजन\", es: \"Nitrógeno\" } }\n      ],\n      correctOptionId: \"b\",\n      explainer: {\n        en: \"Plants absorb carbon dioxide during photosynthesis to produce energy.\",\n        hi: \"पौधे प्रकाश संश्लेषण के दौरान ऊर्जा उत्पन्न करने के लिए कार्बन डाइऑक्साइड अवशोषित करते हैं।\",\n        es: \"Las plantas absorben dióxido de carbono durante la fotosíntesis para producir energía.\"\n      }\n    },\n    {\n      id: \"rq-8\",\n      difficulty: \"hard\",\n      prompt: {\n        en: \"What is the square root of 144?\",\n        hi: \"144 का वर्गमूल क्या है?\",\n        es: \"¿Cuál es la raíz cuadrada de 144?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"12\", hi: \"12\", es: \"12\" } },\n        { id: \"b\", label: { en: \"14\", hi: \"14\", es: \"14\" } },\n        { id: \"c\", label: { en: \"16\", hi: \"16\", es: \"16\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"12 × 12 = 144, so the square root of 144 is 12.\",\n        hi: \"12 × 12 = 144, इसलिए 144 का वर्गमूल 12 है।\",\n        es: \"12 × 12 = 144, por lo que la raíz cuadrada de 144 es 12.\"\n      }\n    },\n    {\n      id: \"rq-9\",\n      difficulty: \"easy\",\n      prompt: {\n        en: \"Which continent is the Sahara Desert located in?\",\n        hi: \"सहारा रेगिस्तान किस महाद्वीप में स्थित है?\",\n        es: \"¿En qué continente se encuentra el desierto del Sahara?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Africa\", hi: \"अफ्रीका\", es: \"África\" } },\n        { id: \"b\", label: { en: \"Asia\", hi: \"एशिया\", es: \"Asia\" } },\n        { id: \"c\", label: { en: \"Australia\", hi: \"ऑस्ट्रेलिया\", es: \"Australia\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"The Sahara Desert is the largest hot desert in the world, located in Africa.\",\n        hi: \"सहारा रेगिस्तान दुनिया का सबसे बड़ा गर्म रेगिस्तान है, जो अफ्रीका में स्थित है।\",\n        es: \"El desierto del Sahara es el desierto caliente más grande del mundo, ubicado en África.\"\n      }\n    },\n    {\n      id: \"rq-10\",\n      difficulty: \"medium\",\n      prompt: {\n        en: \"Who discovered gravity when an apple fell on his head?\",\n        hi: \"सेब सिर पर गिरने पर गुरुत्वाकर्षण की खोज किसने की?\",\n        es: \"¿Quién descubrió la gravedad cuando una manzana cayó sobre su cabeza?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Isaac Newton\", hi: \"आइजैक न्यूटन\", es: \"Isaac Newton\" } },\n        { id: \"b\", label: { en: \"Albert Einstein\", hi: \"अल्बर्ट आइंस्टीन\", es: \"Albert Einstein\" } },\n        { id: \"c\", label: { en: \"Galileo Galilei\", hi: \"गैलीलियो गैलीली\", es: \"Galileo Galilei\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"Isaac Newton formulated the laws of gravity and motion in the 17th century.\",\n        hi: \"आइजैक न्यूटन ने 17वीं सदी में गुरुत्वाकर्षण और गति के नियम तैयार किए।\",\n        es: \"Isaac Newton formuló las leyes de la gravedad y el movimiento en el siglo XVII.\"\n      }\n    },\n    {\n      id: \"rq-11\",\n      difficulty: \"hard\",\n      prompt: {\n        en: \"Which is the longest river in the world?\",\n        hi: \"दुनिया की सबसे लंबी नदी कौन सी है?\",\n        es: \"¿Cuál es el río más largo del mundo?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Nile\", hi: \"नील\", es: \"Nilo\" } },\n        { id: \"b\", label: { en: \"Amazon\", hi: \"अमेज़न\", es: \"Amazonas\" } },\n        { id: \"c\", label: { en: \"Yangtze\", hi: \"यांग्त्ज़ी\", es: \"Yangtsé\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"The Nile River is approximately 4,135 miles (6,650 km) long.\",\n        hi: \"नील नदी लगभग 4,135 मील (6,650 किमी) लंबी है।\",\n        es: \"El río Nilo tiene aproximadamente 4,135 millas (6,650 km) de largo.\"\n      }\n    },\n    {\n      id: \"rq-12\",\n      difficulty: \"easy\",\n      prompt: {\n        en: \"What is the boiling point of water at sea level?\",\n        hi: \"समुद्र तल पर पानी का क्वथनांक क्या है?\",\n        es: \"¿Cuál es el punto de ebullición del agua a nivel del mar?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"100°C\", hi: \"100°C\", es: \"100°C\" } },\n        { id: \"b\", label: { en: \"90°C\", hi: \"90°C\", es: \"90°C\" } },\n        { id: \"c\", label: { en: \"80°C\", hi: \"80°C\", es: \"80°C\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"Water boils at 100°C (212°F) at standard atmospheric pressure.\",\n        hi: \"मानक वायुमंडलीय दबाव पर पानी 100°C (212°F) पर उबलता है।\",\n        es: \"El agua hierve a 100°C (212°F) a presión atmosférica estándar.\"\n      }\n    },\n    {\n      id: \"rq-13\",\n      difficulty: \"medium\",\n      prompt: {\n        en: \"Which language is primarily spoken in Brazil?\",\n        hi: \"ब्राजील में मुख्य रूप से कौन सी भाषा बोली जाती है?\",\n        es: \"¿Qué idioma se habla principalmente en Brasil?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Spanish\", hi: \"स्पेनिश\", es: \"Español\" } },\n        { id: \"b\", label: { en: \"Portuguese\", hi: \"पुर्तगाली\", es: \"Portugués\" } },\n        { id: \"c\", label: { en: \"French\", hi: \"फ्रेंच\", es: \"Francés\" } }\n      ],\n      correctOptionId: \"b\",\n      explainer: {\n        en: \"Brazil is the only Portuguese-speaking country in South America.\",\n        hi: \"ब्राजील दक्षिण अमेरिका का एकमात्र पुर्तगाली भाषी देश है।\",\n        es: \"Brasil es el único país de habla portuguesa en América del Sur.\"\n      }\n    },\n    {\n      id: \"rq-14\",\n      difficulty: \"hard\",\n      prompt: {\n        en: \"Who is known as the Father of Computers?\",\n        hi: \"कंप्यूटर के जनक के रूप में किसे जाना जाता है?\",\n        es: \"¿Quién es conocido como el Padre de las Computadoras?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Charles Babbage\", hi: \"चार्ल्स बैबेज\", es: \"Charles Babbage\" } },\n        { id: \"b\", label: { en: \"Alan Turing\", hi: \"एलन ट्यूरिंग\", es: \"Alan Turing\" } },\n        { id: \"c\", label: { en: \"Bill Gates\", hi: \"बिल गेट्स\", es: \"Bill Gates\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"Charles Babbage designed the first mechanical computer, the Analytical Engine.\",\n        hi: \"चार्ल्स बैबेज ने पहला मैकेनिकल कंप्यूटर, एनालिटिकल इंजन डिजाइन किया था।\",\n        es: \"Charles Babbage diseñó la primera computadora mecánica, la Máquina Analítica.\"\n      }\n    },\n    {\n      id: \"rq-15\",\n      difficulty: \"medium\",\n      prompt: {\n        en: \"Who painted the Mona Lisa?\",\n        hi: \"मोना लिसा की पेंटिंग किसने बनाई?\",\n        es: \"¿Quién pintó la Mona Lisa?\"\n      },\n      options: [\n        { id: \"a\", label: { en: \"Leonardo da Vinci\", hi: \"लियोनार्डो दा विंची\", es: \"Leonardo da Vinci\" } },\n        { id: \"b\", label: { en: \"Pablo Picasso\", hi: \"पाब्लो पिकासो\", es: \"Pablo Picasso\" } },\n        { id: \"c\", label: { en: \"Vincent van Gogh\", hi: \"विंसेंट वैन गॉग\", es: \"Vincent van Gogh\" } }\n      ],\n      correctOptionId: \"a\",\n      explainer: {\n        en: \"Leonardo da Vinci painted the Mona Lisa in the early 16th century.\",\n        hi: \"लियोनार्डो दा विंची ने मोना लिसा की पेंटिंग 16वीं सदी की शुरुआत में बनाई थी।\",\n        es: \"Leonardo da Vinci pintó la Mona Lisa a principios del siglo XVI.\"\n      }\n    }\n  ], []);\n\n  // Generate random quiz questions\n  const generateRandomQuiz = useCallback(() => {\n    setIsGeneratingQuiz(true);\n    try {\n      // Shuffle and select 10-15 questions\n      const shuffled = [...questionPool].sort(() => 0.5 - Math.random());\n      const selected = shuffled.slice(0, Math.floor(Math.random() * 6) + 10); // 10-15 questions\n      setRandomQuizQuestions(selected);\n    } catch (error) {\n      console.error(\"Failed to generate quiz:\", error);\n      toast.error(t({ en: \"Failed to generate quiz\", hi: \"क्विज़ जेनरेट करने में विफल\", es: \"Error al generar el cuestionario\" }, language));\n    } finally {\n      setIsGeneratingQuiz(false);\n    }\n  }, [questionPool, language]);\n\n  // Handle answer selection for random quiz\n  function handleRandomAnswer(qId: string, optionId: string) {\n    setAnswers((prev) => ({ ...prev, [qId]: optionId }));\n  }\n\n  // Evaluate random quiz\n  function evaluateRandomQuiz() {\n    const total = randomQuizQuestions.length;\n    let correct = 0;\n    randomQuizQuestions.forEach((q) => {\n      if (answers[q.id] === q.correctOptionId) correct += 1;\n    });\n    const percent = Math.round((correct / total) * 100);\n\n    // Update chapter state\n    const pass = percent >= activeQuiz.passThreshold;\n    setChapterStates((prev) => {\n      const next = prev.map((s) => ({ ...s }));\n      const s = next[activeChapterIdx];\n      s.scorePercent = percent;\n      if (pass) {\n        s.completed = true;\n        // Unlock next chapter\n        if (activeChapterIdx + 1 < next.length) {\n          next[activeChapterIdx + 1].unlocked = true;\n        }\n      }\n      return next;\n    });\n\n    return { percent, pass };\n  }\n\n  // Submit random quiz\n  async function onSubmitRandomQuiz() {\n    setIsSubmitting(true);\n    try {\n      const { percent, pass } = evaluateRandomQuiz();\n      if (pass) {\n        toast.success(\n          t(\n            {\n              en: `Great! You passed with ${percent}%. Advancing to the next mission...`,\n              hi: `शानदार! आपने ${percent}% के साथ पास किया। अगला मिशन शुरू...`,\n              es: `¡Genial! Aprobaste con ${percent}%. Avanzando a la siguiente misión...`,\n            },\n            language\n          )\n        );\n        setCurrentTab(\"rewards\");\n      } else {\n        toast.message(\n          t(\n            {\n              en: `Score: ${percent}%. Keep trying!`,\n              hi: `स्कोर: ${percent}%। प्रयास जारी रखें!`,\n              es: `Puntaje: ${percent}%. ¡Sigue intentando!`,\n            },\n            language\n          )\n        );\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  }\n\n  // Handle continue button click\n  const handleContinue = () => {\n    const nextIdx = activeChapterIdx + 1;\n    if (nextIdx < activeModule.chapters.length) {\n      setActiveChapterIdx(nextIdx);\n      setCurrentTab(\"learn\");\n    } else {\n      // If it's the last chapter, navigate to a completion page\n      router.push(\"/learning-complete\");\n    }\n  };\n\n  function handleAnswer(qId: string, optionId: string) {\n    setAnswers((prev) => ({ ...prev, [qId]: optionId }));\n  }\n\n  function evaluateQuiz() {\n    const total = filteredQuestions.length;\n    let correct = 0;\n    filteredQuestions.forEach((q) => {\n      if (answers[q.id] === q.correctOptionId) correct += 1;\n    });\n    const percent = Math.round((correct / total) * 100);\n\n    // Adaptive difficulty update\n    let nextLevel: \"easy\" | \"medium\" | \"hard\" = adaptiveLevel;\n    if (percent >= 90) nextLevel = \"hard\";\n    else if (percent >= 70) nextLevel = \"medium\";\n    else nextLevel = \"easy\";\n    setAdaptiveLevel(nextLevel);\n\n    // Update chapter state\n    const pass = percent >= activeQuiz.passThreshold;\n    setChapterStates((prev) => {\n      const next = prev.map((s) => ({ ...s }));\n      const s = next[activeChapterIdx];\n      s.scorePercent = percent;\n      if (pass) {\n        s.completed = true;\n        // Unlock next chapter\n        if (activeChapterIdx + 1 < next.length) {\n          next[activeChapterIdx + 1].unlocked = true;\n        }\n      }\n      return next;\n    });\n\n    return { percent, pass };\n  }\n\n  async function onSubmitQuiz() {\n    setIsSubmitting(true);\n    try {\n      // Simulate evaluation and minimal latency for UX\n      const { percent, pass } = evaluateQuiz();\n      if (pass) {\n        toast.success(\n          t(\n            {\n              en: `Great! You passed with ${percent}%. Advancing to the next mission...`,\n              hi: `शानदार! आपने ${percent}% के साथ पास किया। अगला मिशन शुरू...`,\n              es: `¡Genial! Aprobaste con ${percent}%. Avanzando a la siguiente misión...`,\n            },\n            language\n          )\n        );\n        setCurrentTab(\"rewards\");\n      } else {\n        toast.message(\n          t(\n            {\n              en: `Score: ${percent}%. Keep trying! We've adjusted difficulty to help.`,\n              hi: `स्कोर: ${percent}%। प्रयास जारी रखें! हमने कठिनाई समायोजित की है।`,\n              es: `Puntaje: ${percent}%. ¡Sigue intentando! Ajustamos la dificultad para ayudarte.`,\n            },\n            language\n          )\n        );\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  }\n\n  function onRestartChapter() {\n    setAnswers({});\n    setChapterStates((prev) => {\n      const next = prev.map((s) => ({ ...s }));\n      next[activeChapterIdx].completed = false;\n      next[activeChapterIdx].scorePercent = 0;\n      return next;\n    });\n    setCurrentTab(\"learn\");\n    toast.message(\n      t(\n        {\n          en: \"Chapter reset. Try again!\",\n          hi: \"अध्याय रीसेट। फिर से प्रयास करें!\",\n          es: \"Capítulo reiniciado. ¡Intenta de nuevo!\",\n        },\n        language\n      )\n    );\n  }\n\n  function onDownloadOffline() {\n    // Simulate offline content caching success\n    setOfflineReady(true);\n    toast.success(\n      t(\n        {\n          en: \"Content saved for offline access.\",\n          hi: \"सामग्री ऑफ़लाइन पहुँच के लिए सहेजी गई।\",\n          es: \"Contenido guardado para acceso sin conexión.\",\n        },\n        language\n      )\n    );\n  }\n\n  function onSwitchModule(idx: number) {\n    setActiveModuleIdx(idx);\n    setActiveChapterIdx(0);\n    setAnswers({});\n    setCurrentTab(\"learn\");\n    setAdaptiveLevel(\"easy\");\n    // Init state for new module\n    setChapterStates(\n      modules[idx].chapters.map((_, i) => ({\n        unlocked: i === 0,\n        completed: false,\n        scorePercent: 0,\n      }))\n    );\n  }\n\n  // Generate quiz when quiz tab is activated\n  useEffect(() => {\n    if (currentTab === \"quiz\" && randomQuizQuestions.length === 0) {\n      generateRandomQuiz();\n    }\n  }, [currentTab, randomQuizQuestions.length, generateRandomQuiz]);\n\n  return (\n    <section\n      className={cn(\n        \"w-full max-w-full bg-card text-foreground rounded-[var(--radius)] border border-[--border] shadow-sm\",\n        \"p-4 sm:p-6\",\n        className\n      )}\n      aria-label=\"Learning modules\"\n    >\n      {/* Header: Module title and progress */}\n      <div className=\"w-full max-w-full flex flex-col gap-3\">\n        <div className=\"flex items-center justify-between gap-3 min-w-0\">\n          <div className=\"flex items-center gap-2 min-w-0\">\n            <Library className=\"size-5 text-foreground/90\" aria-hidden />\n            <h3 className=\"text-lg sm:text-xl font-semibold truncate min-w-0\">\n              {t(activeModule.title, language)}\n            </h3>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <div className=\"hidden sm:flex items-center gap-2\">\n              <Captions className=\"size-4 text-muted-foreground\" aria-hidden />\n              <Select value={language} onValueChange={(v: LanguageCode) => setLanguage(v)}>\n                <SelectTrigger className=\"w-[120px] bg-secondary\">\n                  <SelectValue placeholder=\"Language\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"en\">English</SelectItem>\n                  <SelectItem value=\"hi\">हिन्दी</SelectItem>\n                  <SelectItem value=\"es\">Español</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"hidden sm:flex items-center gap-2\">\n              <Switch\n                id=\"data-saver\"\n                checked={dataSaver}\n                onCheckedChange={setDataSaver}\n                aria-label=\"Data saver mode\"\n              />\n              <label htmlFor=\"data-saver\" className=\"text-xs text-muted-foreground select-none\">\n                {t(\n                  { en: \"Data saver\", hi: \"डेटा सेवर\", es: \"Ahorro de datos\" },\n                  language\n                )}\n              </label>\n            </div>\n\n            <Button\n              variant={offlineReady ? \"secondary\" : \"default\"}\n              className={cn(\n                \"gap-2\",\n                offlineReady ? \"bg-accent hover:bg-accent/80 text-foreground\" : \"bg-primary text-primary-foreground\"\n              )}\n              onClick={onDownloadOffline}\n            >\n              <PackageOpen className=\"size-4\" />\n              <span className=\"text-sm\">\n                {offlineReady\n                  ? t({ en: \"Offline ready\", hi: \"ऑफ़लाइन तैयार\", es: \"Listo sin conexión\" }, language)\n                  : t({ en: \"Save offline\", hi: \"ऑफ़लाइन सहेजें\", es: \"Guardar sin conexión\" }, language)}\n              </span>\n            </Button>\n          </div>\n        </div>\n\n        {/* Progress */}\n        <div className=\"flex items-center gap-3\">\n          <Progress value={progressPercent} className=\"h-2\" aria-label=\"Module progress\" />\n          <span className=\"text-xs tabular-nums text-muted-foreground\">{progressPercent}%</span>\n        </div>\n      </div>\n\n      {/* Module switcher (if multiple modules provided) */}\n      {modules.length > 1 && (\n        <div className=\"mt-4 flex flex-wrap gap-2\">\n          {modules.map((m, i) => {\n            const isActive = i === activeModuleIdx;\n            return (\n              <Button\n                key={m.id}\n                size=\"sm\"\n                variant={isActive ? \"default\" : \"secondary\"}\n                onClick={() => onSwitchModule(i)}\n                className={cn(\"rounded-full\", isActive ? \"bg-primary text-primary-foreground\" : \"bg-secondary\")}\n                aria-pressed={isActive}\n              >\n                <BookOpenCheck className=\"size-3.5 mr-2\" />\n                <span className=\"truncate max-w-[14ch]\">{t(m.title, language)}</span>\n              </Button>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Chapters navigator */}\n      <div className=\"mt-4\">\n        <div className=\"flex items-center gap-2 mb-2\">\n          <Clapperboard className=\"size-4 text-muted-foreground\" aria-hidden />\n          <span className=\"text-sm font-medium\">{t({ en: \"Missions\", hi: \"मिशन\", es: \"Misiones\" }, language)}</span>\n        </div>\n        <div className=\"flex gap-2 overflow-x-auto py-1 -mx-1 px-1\">\n          {activeModule.chapters.map((ch, i) => {\n            const state = chapterStates[i];\n            const isActive = i === activeChapterIdx;\n            const status: \"locked\" | \"in-progress\" | \"completed\" = state.completed\n              ? \"completed\"\n              : state.unlocked\n              ? \"in-progress\"\n              : \"locked\";\n            return (\n              <button\n                key={ch.id}\n                onClick={() => state.unlocked && setActiveChapterIdx(i)}\n                disabled={!state.unlocked}\n                className={cn(\n                  \"group min-w-[220px] sm:min-w-[260px] w-auto text-left p-3 rounded-[calc(var(--radius)-6px)] border\",\n                  \"bg-secondary hover:bg-accent transition-colors focus:outline-none focus:ring-2 focus:ring-ring\",\n                  \"disabled:opacity-50 disabled:cursor-not-allowed\",\n                  isActive && \"bg-accent\"\n                )}\n                aria-current={isActive}\n                aria-disabled={!state.unlocked}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <span\n                    className={cn(\n                      \"size-2.5 rounded-full\",\n                      status === \"completed\" ? \"bg-[--color-success]\" : status === \"in-progress\" ? \"bg-chart-3\" : \"bg-muted-foreground/40\"\n                    )}\n                    aria-hidden\n                  />\n                  <p className=\"text-sm font-medium truncate min-w-0\">{t(ch.title, language)}</p>\n                </div>\n                <p className=\"mt-1 text-xs text-muted-foreground line-clamp-2\">{t(ch.description, language)}</p>\n                <div className=\"mt-2 flex items-center justify-between text-xs\">\n                  <span className=\"text-muted-foreground\">\n                    {status === \"completed\"\n                      ? t({ en: \"Completed\", hi: \"पूर्ण\", es: \"Completado\" }, language)\n                      : status === \"in-progress\"\n                      ? t({ en: \"In progress\", hi: \"प्रगति पर\", es: \"En progreso\" }, language)\n                      : t({ en: \"Locked\", hi: \"लॉक\", es: \"Bloqueado\" }, language)}\n                  </span>\n                  <span className=\"tabular-nums text-muted-foreground\">{chapterStates[i].scorePercent}%</span>\n                </div>\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Content + Quiz + Rewards */}\n      <div className=\"mt-5\">\n        <Tabs\n          value={currentTab}\n          onValueChange={(v) => setCurrentTab(v as typeof currentTab)}\n          className=\"w-full\"\n        >\n                   <TabsList className=\"grid grid-cols-3 w-full bg-secondary\">\n            <TabsTrigger value=\"learn\" className=\"data-[state=active]:bg-card\">\n              <MonitorPlay className=\"size-4 mr-2\" />\n              {t({ en: \"Learn\", hi: \"सीखें\", es: \"Aprender\" }, language)}\n            </TabsTrigger>\n            <TabsTrigger value=\"quiz\" className=\"data-[state=active]:bg-card\">\n              <BookOpenCheck className=\"size-4 mr-2\" />\n              {t({ en: \"Quiz\", hi: \"क्विज़\", es: \"Cuestionario\" }, language)}\n            </TabsTrigger>\n            <TabsTrigger value=\"rewards\" className=\"data-[state=active]:bg-card\">\n              <GraduationCap className=\"size-4 mr-2\" />\n              {t({ en: \"Rewards\", hi: \"पुरस्कार\", es: \"Recompensas\" }, language)}\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Learn Tab */}\n          <TabsContent value=\"learn\" className=\"mt-4\">\n            <Card className=\"bg-card border\">\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-base sm:text-lg\">{t(activeChapter.title, language)}</CardTitle>\n                <CardDescription className=\"text-sm\">{t(activeChapter.description, language)}</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"relative overflow-hidden rounded-[calc(var(--radius)-6px)] border bg-secondary\">\n                  <img\n                    src={activeChapter.thumbUnsplash + (dataSaver ? \"&dpr=1&w=800\" : \"&dpr=2&w=1600\")}\n                    alt=\"\"\n                    className=\"w-full h-44 sm:h-56 object-cover max-w-full\"\n                    loading=\"lazy\"\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent pointer-events-none\" />\n                  <div className=\"absolute bottom-2 left-2 flex items-center gap-2\">\n                    <span className=\"inline-flex items-center gap-1 rounded-full bg-black/60 text-white px-2 py-1 text-xs\">\n                      <MonitorPlay className=\"size-3.5\" />\n                      {t({ en: \"Story mode\", hi: \"कहानी मोड\", es: \"Modo historia\" }, language)}\n                    </span>\n                    {dataSaver && (\n                      <span className=\"inline-flex items-center gap-1 rounded-full bg-black/60 text-white px-2 py-1 text-xs\">\n                        {t({ en: \"Low data\", hi: \"कम डेटा\", es: \"Bajo datos\" }, language)}\n                      </span>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"flex flex-wrap items-center gap-2\">\n                  <Badge variant=\"secondary\" className=\"rounded-full\">\n                    <SquareArrowDownRight className=\"size-3 mr-1.5\" />\n                    {t({ en: \"Progressive steps\", hi: \"क्रमिक कदम\", es: \"Pasos progresivos\" }, language)}\n                  </Badge>\n                  <Badge variant=\"secondary\" className=\"rounded-full\">\n                    <BookOpenCheck className=\"size-3 mr-1.5\" />\n                    {t({ en: \"Practice inside\", hi: \"अंदर अभ्यास\", es: \"Práctica incluida\" }, language)}\n                  </Badge>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <p className=\"text-sm\">\n                    {t(\n                      {\n                        en: \"Read the story above. When ready, switch to Quiz to test your understanding. Your difficulty adapts as you learn.\",\n                        hi: \"ऊपर कहानी पढ़ें। तैयार होने पर क्विज़ में जाएँ और समझ की जाँच करें। सीखते समय कठिनाई अनुकूलित होती है।\",\n                        es: \"Lee la historia de arriba. Cuando estés listo, cambia a Cuestionario para probar tu comprensión. La dificultad se adapta mientras aprendes.\",\n                      },\n                      language\n                    )}\n                  </p>\n                  <div className=\"flex items-center gap-3\">\n                    <span className=\"text-xs text-muted-foreground\">\n                      {t({ en: \"Current difficulty:\", hi: \"वर्तमान कठिनाई:\", es: \"Dificultad actual:\" }, language)}\n                    </span>\n                    <Badge className=\"rounded-full\">\n                      {adaptiveLevel === \"easy\"\n                        ? t({ en: \"Easy\", hi: \"आसान\", es: \"Fácil\" }, language)\n                        : adaptiveLevel === \"medium\"\n                        ? t({ en: \"Medium\", hi: \"मध्यम\", es: \"Media\" }, language)\n                        : t({ en: \"Hard\", hi: \"कठिन\", es: \"Difícil\" }, language)}\n                    </Badge>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <Button onClick={() => setCurrentTab(\"quiz\")} className=\"gap-2\">\n                    <BookOpenCheck className=\"size-4\" />\n                    {t({ en: \"Start Quiz\", hi: \"क्विज़ शुरू करें\", es: \"Iniciar cuestionario\" }, language)}\n                  </Button>\n                  <Button variant=\"secondary\" onClick={onRestartChapter}>\n                    {t({ en: \"Restart chapter\", hi: \"अध्याय पुनः प्रारंभ\", es: \"Reiniciar capítulo\" }, language)}\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Quiz Tab */}\n          <TabsContent value=\"quiz\" className=\"mt-4\">\n            <Card className=\"bg-card border\">\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-base sm:text-lg\">\n                  {t({ en: \"Random Quiz\", hi: \"रैंडम क्विज़\", es: \"Cuestionario aleatorio\" }, language)}\n                </CardTitle>\n                <CardDescription className=\"text-sm\">\n                  {t(\n                    {\n                      en: \"Answer the randomly selected questions below. Each quiz is unique and in your language.\",\n                      hi: \"नीचे दिए गए यादृच्छिक प्रश्नों का उत्तर दें। हर क्विज़ अनूठा है और आपकी भाषा में है।\",\n                      es: \"Responde las preguntas seleccionadas aleatoriamente a continuación. Cada cuestionario es único y en tu idioma.\",\n                    },\n                    language\n                  )}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {isGeneratingQuiz ? (\n                  <div className=\"text-center py-8\">\n                    <p>{t({ en: \"Generating your quiz...\", hi: \"आपका क्विज़ जेनरेट हो रहा है...\", es: \"Generando tu cuestionario...\" }, language)}</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {randomQuizQuestions.map((q, idx) => {\n                      const selectedAnswer = answers[q.id];\n                      const isAnswered = typeof selectedAnswer !== \"undefined\";\n                      const isCorrect = isAnswered && selectedAnswer === q.correctOptionId;\n                      \n                      return (\n                        <div\n                          key={q.id}\n                          className={cn(\n                            \"p-3 rounded-[calc(var(--radius)-8px)] border bg-secondary\",\n                            isAnswered && (isCorrect ? \"ring-1 ring-[--color-success]\" : \"ring-1 ring-destructive/70\")\n                          )}\n                        >\n                          <div className=\"flex items-start gap-2\">\n                            <Badge variant=\"secondary\" className=\"rounded-full shrink-0\">\n                              {idx + 1}\n                            </Badge>\n                            <div className=\"min-w-0 w-full\">\n                              <p className=\"text-sm font-medium break-words\">{t(q.prompt, language)}</p>\n                              <div className=\"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                                {q.options.map((opt: any) => {\n                                  const active = selectedAnswer === opt.id;\n                                  return (\n                                    <button\n                                      key={opt.id}\n                                      onClick={() => handleRandomAnswer(q.id, opt.id)}\n                                      className={cn(\n                                        \"text-left text-sm p-2 rounded-md border transition-colors\",\n                                        \"bg-card hover:bg-accent focus:outline-none focus:ring-2 focus:ring-ring\",\n                                        active && \"bg-accent\"\n                                      )}\n                                      aria-pressed={active}\n                                    >\n                                      <span className=\"truncate block\">{t(opt.label, language)}</span>\n                                    </button>\n                                  );\n                                })}\n                              </div>\n                              {isAnswered && (\n                                <p\n                                  className={cn(\n                                    \"mt-2 text-xs\",\n                                    isCorrect ? \"text-[--color-success]\" : \"text-destructive\"\n                                  )}\n                                >\n                                  {isCorrect\n                                    ? t({ en: \"Correct!\", hi: \"सही!\", es: \"¡Correcto!\" }, language)\n                                    : <>\n                                        {t({ en: \"Not quite.\", hi: \"ठीक नहीं।\", es: \"No exactamente.\" }, language)}\n                                        {\" \"}\n                                        {t({ en: \"Correct answer:\", hi: \"सही उत्तर:\", es: \"Respuesta correcta:\" }, language)} {t(q.options.find((o: any) => o.id === q.correctOptionId).label, language)}\n                                      </>\n                                  }\n                                </p>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                    \n                    <div className=\"flex gap-2 pt-4\">\n                      <Button \n                        onClick={onSubmitRandomQuiz} \n                        disabled={isSubmitting || Object.keys(answers).length < randomQuizQuestions.length}\n                        className=\"gap-2\"\n                      >\n                        <BookOpenCheck className=\"size-4\" />\n                        {t({ en: \"Submit Quiz\", hi: \"क्विज़ सबमिट करें\", es: \"Enviar cuestionario\" }, language)}\n                      </Button>\n                      <Button variant=\"secondary\" onClick={generateRandomQuiz}>\n                        {t({ en: \"New Questions\", hi: \"नए प्रश्न\", es: \"Nuevas preguntas\" }, language)}\n                      </Button>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Rewards Tab */}\n          <TabsContent value=\"rewards\" className=\"mt-4\">\n            <Card className=\"bg-card border\">\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-base sm:text-lg\">\n                  {t({ en: \"Completion Rewards\", hi: \"पूर्णता पुरस्कार\", es: \"Recompensas de finalización\" }, language)}\n                </CardTitle>\n                <CardDescription className=\"text-sm\">\n                  {t(\n                    {\n                      en: \"Earn badges as you progress. Passing this mission unlocks the next adventure.\",\n                      hi: \"जैसे-जैसे आगे बढ़ें, बैज कमाएँ। यह मिशन पास करने पर अगला एडवेंचर अनलॉक होगा।\",\n                      es: \"Gana insignias a medida que avanzas. Al aprobar esta misión, se desbloquea la siguiente aventura.\",\n                    },\n                    language\n                  )}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div className={cn(\"size-12 rounded-full flex items-center justify-center\",\n                    chapterStates[activeChapterIdx]?.completed ? \"bg-[--color-success-soft]\" : \"bg-secondary\"\n                  )}>\n                    <GraduationCap className={cn(\"size-6\",\n                      chapterStates[activeChapterIdx]?.completed ? \"text-[--color-success]\" : \"text-muted-foreground\"\n                    )} />\n                  </div>\n                  <div className=\"min-w-0\">\n                    <p className=\"text-sm font-semibold truncate\">{t(activeChapter.reward.title, language)}</p>\n                    <p className=\"text-xs text-muted-foreground truncate\">{t(activeChapter.reward.description, language)}</p>\n                    <div className=\"mt-1\">\n                      <Badge className=\"rounded-full\" variant=\"secondary\">\n                        {chapterStates[activeChapterIdx]?.completed\n                          ? t({ en: \"Unlocked\", hi: \"अनलॉक\", es: \"Desbloqueado\" }, language)\n                          : t({ en: \"Locked\", hi: \"लॉक\", es: \"Bloqueado\" }, language)}\n                      </Badge>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center justify-between gap-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-xs text-muted-foreground\">\n                      {t({ en: \"Next mission\", hi: \"अगला मिशन\", es: \"Siguiente misión\" }, language)}\n                    </span>\n                    <SquareArrowDownRight className=\"size-4 text-muted-foreground\" />\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"secondary\"\n                      disabled={!chapterStates[activeChapterIdx]?.completed}\n                      onClick={handleContinue}\n                      className=\"gap-2\"\n                    >\n                      {t({ en: \"Continue\", hi: \"जारी रखें\", es: \"Continuar\" }, language)}\n                      <ArrowRight className=\"size-4\" />\n                    </Button>\n                    <Button variant=\"secondary\" onClick={() => setCurrentTab(\"quiz\")}>\n                      {t({ en: \"Retake Quiz\", hi: \"क्विज़ दोहराएँ\", es: \"Repetir cuestionario\" }, language)}\n                    </Button>\n\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </section>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}