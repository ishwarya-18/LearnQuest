(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5997:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>s3});var t=a(5155),r=a(2115),l=a(6671),n=a(3081),i=a(306),c=a(5041),d=a(7842),o=a(1007),m=a(9530),u=a(2596),x=a(9688);function h(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,x.QP)((0,u.$)(s))}var p=a(9708),g=a(2085);let j=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function f(e){let{className:s,variant:a,size:r,asChild:l=!1,...n}=e,i=l?p.DX:"button";return(0,t.jsx)(i,{"data-slot":"button",className:h(j({variant:a,size:r,className:s})),...n})}function v(e){let{className:s,type:a,...r}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:h("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}var b=a(968);function N(e){let{className:s,...a}=e;return(0,t.jsx)(b.b,{"data-slot":"label",className:h("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}var y=a(704);function w(e){let{className:s,...a}=e;return(0,t.jsx)(y.bL,{"data-slot":"tabs",className:h("flex flex-col gap-2",s),...a})}function k(e){let{className:s,...a}=e;return(0,t.jsx)(y.B8,{"data-slot":"tabs-list",className:h("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function C(e){let{className:s,...a}=e;return(0,t.jsx)(y.l9,{"data-slot":"tabs-trigger",className:h("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function S(e){let{className:s,...a}=e;return(0,t.jsx)(y.UC,{"data-slot":"tabs-content",className:h("flex-1 outline-none",s),...a})}var A=a(1992),R=a(6474),z=a(5196),P=a(7863);function L(e){let{...s}=e;return(0,t.jsx)(A.bL,{"data-slot":"select",...s})}function q(e){let{...s}=e;return(0,t.jsx)(A.WT,{"data-slot":"select-value",...s})}function M(e){let{className:s,size:a="default",children:r,...l}=e;return(0,t.jsxs)(A.l9,{"data-slot":"select-trigger","data-size":a,className:h("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l,children:[r,(0,t.jsx)(A.In,{asChild:!0,children:(0,t.jsx)(R.A,{className:"size-4 opacity-50"})})]})}function E(e){let{className:s,children:a,position:r="popper",...l}=e;return(0,t.jsx)(A.ZL,{children:(0,t.jsxs)(A.UC,{"data-slot":"select-content",className:h("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...l,children:[(0,t.jsx)(D,{}),(0,t.jsx)(A.LM,{className:h("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,t.jsx)(T,{})]})})}function F(e){let{className:s,children:a,...r}=e;return(0,t.jsxs)(A.q7,{"data-slot":"select-item",className:h("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(A.VF,{children:(0,t.jsx)(z.A,{className:"size-4"})})}),(0,t.jsx)(A.p4,{children:a})]})}function D(e){let{className:s,...a}=e;return(0,t.jsx)(A.PP,{"data-slot":"select-scroll-up-button",className:h("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(P.A,{className:"size-4"})})}function T(e){let{className:s,...a}=e;return(0,t.jsx)(A.wn,{"data-slot":"select-scroll-down-button",className:h("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(R.A,{className:"size-4"})})}let O=[{id:"av1",url:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=300&auto=format&fit=crop",alt:"Smiling student"},{id:"av2",url:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?q=80&w=300&auto=format&fit=crop",alt:"Boy with backpack"},{id:"av3",url:"https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?q=80&w=300&auto=format&fit=crop",alt:"Smiling teacher"},{id:"av4",url:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?q=80&w=300&auto=format&fit=crop",alt:"Happy learner"},{id:"av5",url:"https://images.unsplash.com/photo-1520975673310-2980b809891e?q=80&w=300&auto=format&fit=crop",alt:"Girl portrait"},{id:"av6",url:"https://images.unsplash.com/photo-1529665253569-6d01c0eaf7b6?q=80&w=300&auto=format&fit=crop",alt:"Young adult portrait"}],U=[{value:"grade-1",label:"Class 1"},{value:"grade-2",label:"Class 2"},{value:"grade-3",label:"Class 3"},{value:"grade-4",label:"Class 4"},{value:"grade-5",label:"Class 5"},{value:"grade-6",label:"Class 6"},{value:"grade-7",label:"Class 7"},{value:"grade-8",label:"Class 8"},{value:"grade-9",label:"Class 9"},{value:"grade-10",label:"Class 10"},{value:"grade-11",label:"Class 11"},{value:"grade-12",label:"Class 12"}],I=[{value:"en",label:"English"},{value:"hi",label:"हिंदी (Hindi)"},{value:"bn",label:"বাংলা (Bengali)"},{value:"te",label:"తెలుగు (Telugu)"},{value:"ta",label:"தமிழ் (Tamil)"},{value:"mr",label:"मराठी (Marathi)"}];function V(e){let{className:s,initialRole:a="student",defaultMode:u="signup",onComplete:x}=e,[p,g]=r.useState("role"),[j,b]=r.useState(a),[y,A]=r.useState(u),[R,z]=r.useState("phone"),[P,D]=r.useState(""),[T,V]=r.useState(""),[W,H]=r.useState(""),[Q,B]=r.useState(""),[Y,G]=r.useState(!1),[K,J]=r.useState(""),[Z,X]=r.useState(void 0),[$,ee]=r.useState(void 0),[es,ea]=r.useState(void 0),[et,er]=r.useState(!1),[el,en]=r.useState(null);function ei(){return"phone"===R?!(P.replace(/\D/g,"").length<10)||(en("Please enter a valid 10-digit phone number."),!1):/^\S+@\S+\.\S+$/.test(T)?"login"===y&&W.length<6?(en("Password should be at least 6 characters."),!1):"signup"!==y||!W||!(W.length<6)||(en("If you set a password, use at least 6 characters."),!1):(en("Please enter a valid email address."),!1)}async function ec(){if(en(null),!ei())return void l.oR.error("Fix the highlighted fields");er(!0),setTimeout(()=>{er(!1),G(!0),g("verify"),l.oR.success("OTP sent to your phone")},900)}async function ed(){if(en(null),"phone"===R){if(6!==Q.replace(/\D/g,"").length)return void en("Enter the 6-digit code.")}else if("login"===y){if(!ei())return}else if(!ei())return;er(!0),setTimeout(()=>{er(!1),"login"===y?(l.oR.success("Welcome back!"),null==x||x({role:j,authMode:y,method:R,user:{name:"Learner",language:$||"en",grade:Z,avatarUrl:es},contact:{phone:P,email:T}})):(g("profile"),l.oR.success("Account created. Set up your profile."))},900)}async function eo(){return(en(null),K.trim())?"student"!==j||Z?$?void(er(!0),setTimeout(()=>{er(!1),l.oR.success("Profile saved"),null==x||x({role:j,authMode:y,method:R,user:{name:K.trim(),grade:Z,language:$,avatarUrl:es},contact:{phone:P,email:T}})},900)):void en("Please choose your preferred language."):void en("Please select your class."):void en("Please enter your full name.")}return r.useEffect(()=>{en(null)},[y,R]),(0,t.jsxs)("section",{className:h("w-full max-w-full","bg-card text-foreground rounded-2xl border border-border","shadow-sm","p-4 sm:p-6 md:p-8",s),"aria-label":"Authentication flow",children:[(0,t.jsx)("header",{className:"mb-4 sm:mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"inline-flex h-11 w-11 shrink-0 items-center justify-center rounded-xl bg-accent text-primary",children:"signup"===y?(0,t.jsx)(n.A,{className:"h-6 w-6","aria-hidden":"true"}):(0,t.jsx)(i.A,{className:"h-6 w-6","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h3",{className:"text-xl sm:text-2xl font-bold truncate",children:"signup"===y?"Create your account":"Welcome back"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"LearnQuest • Simple, secure sign in for rural education"})]})]})}),(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(N,{className:"text-sm font-medium",children:"I want to"}),(0,t.jsxs)("div",{className:"inline-flex w-full overflow-hidden rounded-xl border border-border bg-secondary p-1",children:[(0,t.jsx)("button",{type:"button","aria-pressed":"signup"===y,onClick:()=>A("signup"),className:h("flex-1 rounded-lg px-3 py-2.5 text-center text-sm font-medium transition","signup"===y?"bg-card text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:"Create account"}),(0,t.jsx)("button",{type:"button","aria-pressed":"login"===y,onClick:()=>A("login"),className:h("flex-1 rounded-lg px-3 py-2.5 text-center text-sm font-medium transition","login"===y?"bg-card text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:"Sign in"})]})]}),(0,t.jsx)("nav",{className:"flex items-center gap-2","aria-label":"Progress",children:["role","auth","verify","profile"].map((e,s)=>{let a=p===e||"verify"===p&&"auth"===e&&"email"===R&&"login"===y,r=["auth","verify","profile"].indexOf(p)>=0&&["role","auth"].includes(e),l="role"===e?"Role":"auth"===e?"Contact":"verify"===e?"phone"===R?"OTP":"Password":"Profile";return(0,t.jsxs)("div",{className:h("flex items-center gap-2",s>0&&"min-w-0"),children:[s>0&&(0,t.jsx)("div",{className:"h-[2px] w-4 sm:w-6 bg-border","aria-hidden":"true"}),(0,t.jsx)("div",{className:h("inline-flex items-center gap-2 rounded-full border px-3 py-1.5",a?"bg-accent border-border":r?"bg-secondary border-border":"bg-card border-border"),children:(0,t.jsx)("span",{className:"text-xs font-medium",children:l})})]},e)})}),"role"===p&&(0,t.jsxs)("div",{className:"grid gap-4 animate-in fade-in-50",role:"group","aria-labelledby":"role-label",children:[(0,t.jsx)(N,{id:"role-label",className:"text-base font-semibold",children:"Choose your role"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,t.jsx)(_,{icon:(0,t.jsx)(c.A,{className:"h-7 w-7","aria-hidden":"true"}),title:"Student",description:"Learn with quests and earn rewards",active:"student"===j,onClick:()=>b("student"),ariaLabel:"Select Student role"}),(0,t.jsx)(_,{icon:(0,t.jsx)(d.A,{className:"h-7 w-7","aria-hidden":"true"}),title:"Teacher",description:"Manage classes and track progress",active:"teacher"===j,onClick:()=>b("teacher"),ariaLabel:"Select Teacher role"}),(0,t.jsx)(_,{icon:(0,t.jsx)(o.A,{className:"h-7 w-7","aria-hidden":"true"}),title:"Admin",description:"Oversee content and users",active:"admin"===j,onClick:()=>b("admin"),ariaLabel:"Select Admin role"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 pt-1",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"You can change role later if needed."}),(0,t.jsx)(f,{onClick:function(){g("auth")},className:"min-w-[120px]","aria-label":"Continue to contact step",children:"Continue"})]})]}),"auth"===p&&(0,t.jsxs)("div",{className:"grid gap-5 animate-in fade-in-50",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)(N,{className:"text-base font-semibold",children:["Choose sign ","signup"===y?"up":"in"," method"]}),(0,t.jsxs)(w,{defaultValue:R,value:R,onValueChange:e=>z(e),className:"w-full",children:[(0,t.jsxs)(k,{className:"grid w-full grid-cols-2 rounded-xl bg-secondary p-1",children:[(0,t.jsx)(C,{value:"phone",className:"rounded-lg text-sm data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Phone"}),(0,t.jsx)(C,{value:"email",className:"rounded-lg text-sm data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Email"})]}),(0,t.jsx)(S,{value:"phone",className:"mt-4",children:(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"phone",children:"Phone number"}),(0,t.jsx)(v,{id:"phone",inputMode:"tel",autoComplete:"tel",placeholder:"Enter 10-digit phone",value:P,onChange:e=>D(e.target.value),className:"h-12 text-base","aria-invalid":!!el&&"phone"===R})]}),(0,t.jsx)(f,{className:"h-12 text-base",onClick:ec,disabled:et,children:et?"Sending...":"Send OTP"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"We’ll send a 6-digit code via SMS for quick access."})]})}),(0,t.jsx)(S,{value:"email",className:"mt-4",children:(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"email",children:"Email"}),(0,t.jsx)(v,{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",value:T,onChange:e=>V(e.target.value),className:"h-12 text-base","aria-invalid":!!el&&"email"===R})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"password",children:"login"===y?"Password":"Set a password (optional)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),(0,t.jsx)(v,{id:"password",type:"password",autoComplete:"login"===y?"current-password":"new-password",placeholder:"login"===y?"Enter your password":"Create a password",value:W,onChange:e=>H(e.target.value),className:"h-12 text-base pl-11"})]})]}),"login"===y?(0,t.jsx)(f,{className:"h-12 text-base",onClick:function(){if(en(null),!ei())return void l.oR.error("Fix the highlighted fields");er(!0),setTimeout(()=>{er(!1),l.oR.success("Logged in successfully"),null==x||x({role:j,authMode:"login",method:"email",user:{name:"Learner",language:"en",grade:Z,avatarUrl:es},contact:{email:T}})},900)},disabled:et,children:et?"Signing in...":"Sign in with Email"}):(0,t.jsx)(f,{className:"h-12 text-base",onClick:()=>{if(!ei())return void l.oR.error("Fix the highlighted fields");g("profile"),l.oR.success("Account created. Set up your profile.")},disabled:et,children:et?"Creating...":"Continue"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your information is secure and will never be shared."})]})})]})]}),!!el&&(0,t.jsx)("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 px-3 py-2 text-sm text-destructive",role:"alert",children:el}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{type:"button",className:"text-sm text-muted-foreground hover:text-foreground underline underline-offset-4",onClick:function(){g("role"),A(u),z("phone"),D(""),V(""),H(""),B(""),G(!1),J(""),X(void 0),ee(void 0),ea(void 0),en(null)},children:"Change role"}),"phone"===R&&Y&&(0,t.jsx)(f,{variant:"secondary",onClick:()=>g("verify"),className:"h-10",children:"Enter OTP"})]})]}),"verify"===p&&(0,t.jsx)("div",{className:"grid gap-5 animate-in fade-in-50",children:"phone"===R?(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"otp",children:"Enter 6-digit OTP"}),(0,t.jsx)(v,{id:"otp",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"••••••",value:Q,onChange:e=>B(e.target.value.replace(/\D/g,"")),className:"h-12 text-center tracking-[0.3em] text-lg font-medium","aria-invalid":!!el})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{type:"button",className:"text-sm text-muted-foreground hover:text-foreground underline underline-offset-4",onClick:ec,disabled:et,children:"Resend code"}),(0,t.jsx)(f,{className:"h-12 text-base min-w-[120px]",onClick:ed,disabled:et,children:et?"Verifying...":"Verify"})]}),!!el&&(0,t.jsx)("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 px-3 py-2 text-sm text-destructive",role:"alert",children:el})]}):(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enter your email and password to continue."}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"email2",children:"Email"}),(0,t.jsx)(v,{id:"email2",type:"email",autoComplete:"email",placeholder:"you@example.com",value:T,onChange:e=>V(e.target.value),className:"h-12 text-base"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"password2",children:"Password"}),(0,t.jsx)(v,{id:"password2",type:"password",autoComplete:"current-password",placeholder:"Enter your password",value:W,onChange:e=>H(e.target.value),className:"h-12 text-base"})]}),(0,t.jsx)("div",{className:"flex items-center justify-end",children:(0,t.jsx)(f,{className:"h-12 text-base min-w-[120px]",onClick:ed,disabled:et,children:et?"Signing in...":"Sign in"})}),!!el&&(0,t.jsx)("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 px-3 py-2 text-sm text-destructive",role:"alert",children:el})]})}),"profile"===p&&(0,t.jsxs)("div",{className:"grid gap-6 animate-in fade-in-50",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"name",className:"text-base font-semibold",children:"Profile details"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Help us personalize your experience."})]}),(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"fullname",children:"Full name"}),(0,t.jsx)(v,{id:"fullname",placeholder:"Enter your name",value:K,onChange:e=>J(e.target.value),className:"h-12 text-base"})]}),"student"===j&&(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{children:"Class / Grade"}),(0,t.jsxs)(L,{value:Z,onValueChange:e=>X(e),children:[(0,t.jsx)(M,{className:"h-12 text-base",children:(0,t.jsx)(q,{placeholder:"Select your class"})}),(0,t.jsx)(E,{children:U.map(e=>(0,t.jsx)(F,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{children:"Preferred language"}),(0,t.jsxs)(L,{value:$,onValueChange:e=>ee(e),children:[(0,t.jsx)(M,{className:"h-12 text-base",children:(0,t.jsx)(q,{placeholder:"Choose a language"})}),(0,t.jsx)(E,{children:I.map(e=>(0,t.jsx)(F,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{children:"Choose an avatar"}),(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:O.map(e=>{let s=es===e.url;return(0,t.jsxs)("button",{type:"button",onClick:()=>ea(e.url),"aria-pressed":s,"aria-label":"Select avatar: ".concat(e.alt),className:h("relative aspect-square overflow-hidden rounded-xl border transition",s?"border-primary ring-2 ring-primary/20":"border-border hover:border-foreground/40"),children:[(0,t.jsx)("img",{src:e.url,alt:e.alt,className:"h-full w-full object-cover",loading:"lazy"}),s&&(0,t.jsx)("div",{className:"absolute inset-0 ring-inset ring-2 ring-primary/30 pointer-events-none"})]},e.id)})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Avatars add fun to learning. You can change this anytime."})]})]}),!!el&&(0,t.jsx)("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 px-3 py-2 text-sm text-destructive",role:"alert",children:el}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{type:"button",className:"text-sm text-muted-foreground hover:text-foreground underline underline-offset-4",onClick:()=>g("auth"),children:"Back"}),(0,t.jsx)(f,{className:"h-12 text-base min-w-[140px]",onClick:eo,disabled:et,children:et?"Saving...":"Finish"})]})]})]})]})}function _(e){let{icon:s,title:a,description:r,active:l,onClick:n,ariaLabel:i}=e;return(0,t.jsxs)("button",{type:"button",onClick:n,"aria-pressed":!!l,"aria-label":i||a,className:h("flex w-full items-center gap-3 rounded-2xl border p-3 sm:p-4 transition","text-left bg-card",l?"border-primary shadow-sm":"border-border hover:border-foreground/40"),children:[(0,t.jsx)("div",{className:h("inline-flex h-12 w-12 shrink-0 items-center justify-center rounded-xl",l?"bg-accent text-foreground":"bg-secondary text-foreground"),children:s}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"font-semibold break-words",children:a}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground break-words",children:r})]})]})}var W=a(3025),H=a(2999),Q=a(6473),B=a(7632),Y=a(81),G=a(3737),K=a(3338),J=a(7949),Z=a(4678);function X(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:h("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function $(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:h("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function ee(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:h("leading-none font-semibold",s),...a})}function es(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:h("text-muted-foreground text-sm",s),...a})}function ea(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:h("px-6",s),...a})}function et(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:h("flex items-center px-6 [.border-t]:pt-6",s),...a})}let er=(0,g.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function el(e){let{className:s,variant:a,asChild:r=!1,...l}=e,n=r?p.DX:"span";return(0,t.jsx)(n,{"data-slot":"badge",className:h(er({variant:a}),s),...l})}function en(e){let{className:s,...a}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:h("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...a})}var ei=a(5863);function ec(e){let{className:s,value:a,...r}=e;return(0,t.jsx)(ei.bL,{"data-slot":"progress",className:h("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...r,children:(0,t.jsx)(ei.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}var ed=a(6981);function eo(e){let{className:s,...a}=e;return(0,t.jsx)(ed.bL,{"data-slot":"checkbox",className:h("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,t.jsx)(ed.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(z.A,{className:"size-3.5"})})})}var em=a(8698);function eu(e){let{...s}=e;return(0,t.jsx)(em.bL,{"data-slot":"dropdown-menu",...s})}function ex(e){let{...s}=e;return(0,t.jsx)(em.l9,{"data-slot":"dropdown-menu-trigger",...s})}function eh(e){let{className:s,sideOffset:a=4,...r}=e;return(0,t.jsx)(em.ZL,{children:(0,t.jsx)(em.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:h("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...r})})}function ep(e){let{className:s,inset:a,variant:r="default",...l}=e;return(0,t.jsx)(em.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:h("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l})}function eg(e){let{className:s,inset:a,...r}=e;return(0,t.jsx)(em.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:h("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",s),...r})}function ej(e){let{className:s,...a}=e;return(0,t.jsx)(em.wv,{"data-slot":"dropdown-menu-separator",className:h("bg-border -mx-1 my-1 h-px",s),...a})}var ef=a(5452),ev=a(4416);function eb(e){let{...s}=e;return(0,t.jsx)(ef.bL,{"data-slot":"dialog",...s})}function eN(e){let{...s}=e;return(0,t.jsx)(ef.l9,{"data-slot":"dialog-trigger",...s})}function ey(e){let{...s}=e;return(0,t.jsx)(ef.ZL,{"data-slot":"dialog-portal",...s})}function ew(e){let{...s}=e;return(0,t.jsx)(ef.bm,{"data-slot":"dialog-close",...s})}function ek(e){let{className:s,...a}=e;return(0,t.jsx)(ef.hJ,{"data-slot":"dialog-overlay",className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function eC(e){let{className:s,children:a,showCloseButton:r=!0,...l}=e;return(0,t.jsxs)(ey,{"data-slot":"dialog-portal",children:[(0,t.jsx)(ek,{}),(0,t.jsxs)(ef.UC,{"data-slot":"dialog-content",className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...l,children:[a,r&&(0,t.jsxs)(ef.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(ev.A,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function eS(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:h("flex flex-col gap-2 text-center sm:text-left",s),...a})}function eA(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:h("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...a})}function eR(e){let{className:s,...a}=e;return(0,t.jsx)(ef.hE,{"data-slot":"dialog-title",className:h("text-lg leading-none font-semibold",s),...a})}function ez(e){let{className:s,...a}=e;return(0,t.jsx)(ef.VY,{"data-slot":"dialog-description",className:h("text-muted-foreground text-sm",s),...a})}var eP=a(4011);function eL(e){let{className:s,...a}=e;return(0,t.jsx)(eP.bL,{"data-slot":"avatar",className:h("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function eq(e){let{className:s,...a}=e;return(0,t.jsx)(eP._V,{"data-slot":"avatar-image",className:h("aspect-square size-full",s),...a})}function eM(e){let{className:s,...a}=e;return(0,t.jsx)(eP.H4,{"data-slot":"avatar-fallback",className:h("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}var eE=a(7489);function eF(e){let{className:s,orientation:a="horizontal",decorative:r=!0,...l}=e;return(0,t.jsx)(eE.b,{"data-slot":"separator",decorative:r,orientation:a,className:h("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...l})}let eD=[{id:"st_001",name:"Asha Devi",progress:76,attendanceRate:92,lastActiveDays:1,risk:"low",language:"hi",points:1280},{id:"st_002",name:"Ravi Kumar",progress:54,attendanceRate:68,lastActiveDays:6,risk:"medium",language:"en",points:960},{id:"st_003",name:"Meera N",progress:88,attendanceRate:98,lastActiveDays:0,risk:"low",language:"ta",points:1520},{id:"st_004",name:"Sanjay Patel",progress:39,attendanceRate:57,lastActiveDays:10,risk:"high",language:"gu",points:740},{id:"st_005",name:"Pooja Sharma",progress:63,attendanceRate:85,lastActiveDays:2,risk:"low",language:"hi",points:1100}],eT=["en","hi","ta","te","bn","mr","gu"];function eO(e){let{className:s,style:a,classLabel:n="Class 8A - Maths",languages:i=eT,students:c}=e,[d,o]=r.useState(void 0),[m,u]=r.useState(""),[x,p]=r.useState(new Set),[g,j]=r.useState(!1),[b,y]=r.useState(!1),[A,R]=r.useState(!1),z=r.useMemo(()=>c&&c.length?c:eD,[c]),P=r.useMemo(()=>z.filter(e=>{let s=!d||e.language===d,a=!m||e.name.toLowerCase().includes(m.toLowerCase())||e.id.toLowerCase().includes(m.toLowerCase());return s&&a}),[z,d,m]),D=r.useMemo(()=>{let e=z.filter(e=>e.lastActiveDays<=1&&e.attendanceRate>60).length;return{present:e,total:z.length,rate:Math.round(e/Math.max(z.length,1)*100)}},[z]),T=r.useMemo(()=>Math.round(z.reduce((e,s)=>e+s.progress,0)/Math.max(z.length,1)),[z]),O=r.useMemo(()=>{let e=z.filter(e=>"high"===e.risk);return{high:e,medium:z.filter(e=>"medium"===e.risk),low:z.filter(e=>"low"===e.risk)}},[z]),U=r.useMemo(()=>[...z].sort((e,s)=>s.points-e.points).slice(0,5),[z]);function I(){p(new Set(P.map(e=>e.id)))}function V(){p(new Set)}function _(){let e=new Blob([[["ID","Name","Progress","Attendance","Last Active (days)","Risk","Language","Points"],...P.map(e=>[e.id,e.name,"".concat(e.progress),"".concat(e.attendanceRate),"".concat(e.lastActiveDays),e.risk,e.language,"".concat(e.points)])].map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="learnquest_class_report.csv",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),l.oR.success("Export started",{description:"Your progress report CSV is downloading."})}function et(e){return"high"===e?"bg-destructive/10 text-destructive":"medium"===e?"bg-amber-100 text-amber-900":"bg-success-soft text-success"}return(0,t.jsx)("section",{className:h("w-full max-w-full bg-background text-foreground","rounded-none",s),style:a,"aria-label":"Teacher dashboard",children:(0,t.jsxs)("div",{className:"w-full max-w-full space-y-4",children:[(0,t.jsx)(eI,{classLabel:n,attendanceRate:D.rate,avgProgress:T,riskHigh:O.high.length}),(0,t.jsxs)(w,{defaultValue:"overview",className:"w-full",children:[(0,t.jsxs)(k,{className:"bg-secondary",children:[(0,t.jsxs)(C,{value:"overview",className:"data-[state=active]:bg-card",children:[(0,t.jsx)(W.A,{className:"size-4 mr-2","aria-hidden":!0}),"Overview"]}),(0,t.jsxs)(C,{value:"management",className:"data-[state=active]:bg-card",children:[(0,t.jsx)(H.A,{className:"size-4 mr-2","aria-hidden":!0}),"Management"]}),(0,t.jsxs)(C,{value:"content",className:"data-[state=active]:bg-card",children:[(0,t.jsx)(Q.A,{className:"size-4 mr-2","aria-hidden":!0}),"Content"]}),(0,t.jsxs)(C,{value:"analytics",className:"data-[state=active]:bg-card",children:[(0,t.jsx)(B.A,{className:"size-4 mr-2","aria-hidden":!0}),"Analytics"]}),(0,t.jsxs)(C,{value:"communications",className:"data-[state=active]:bg-card",children:[(0,t.jsx)(Y.A,{className:"size-4 mr-2","aria-hidden":!0}),"Comms"]}),(0,t.jsxs)(C,{value:"reports",className:"data-[state=active]:bg-card",children:[(0,t.jsx)(G.A,{className:"size-4 mr-2","aria-hidden":!0}),"Reports"]})]}),(0,t.jsxs)(S,{value:"overview",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-2",children:[(0,t.jsx)(ee,{className:"text-base",children:"Average Progress"}),(0,t.jsx)(es,{className:"text-muted-foreground",children:"Across all students"})]}),(0,t.jsxs)(ea,{className:"pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold",children:[T,"%"]}),(0,t.jsx)(eV,{values:[30,45,55,50,60,70,76],color:"var(--chart-3)"})]}),(0,t.jsx)(ec,{value:T,className:"mt-3","aria-label":"Average progress bar"})]})]}),(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-2",children:[(0,t.jsx)(ee,{className:"text-base",children:"Attendance Today"}),(0,t.jsxs)(es,{className:"text-muted-foreground",children:[D.present,"/",D.total," present"]})]}),(0,t.jsxs)(ea,{className:"pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold",children:[D.rate,"%"]}),(0,t.jsx)(eV,{values:[70,72,68,80,84,86,D.rate],color:"var(--chart-2)"})]}),(0,t.jsx)(ec,{value:D.rate,className:"mt-3","aria-label":"Attendance bar"})]})]}),(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-2",children:[(0,t.jsx)(ee,{className:"text-base",children:"Dropout Risk"}),(0,t.jsx)(es,{className:"text-muted-foreground",children:"AI alerts"})]}),(0,t.jsxs)(ea,{className:"pt-0 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(el,{className:h("rounded-full px-2.5 py-1 text-xs",et("high")),children:["High: ",O.high.length]}),(0,t.jsxs)(el,{className:h("rounded-full px-2.5 py-1 text-xs",et("medium")),children:["Medium: ",O.medium.length]}),(0,t.jsxs)(el,{className:h("rounded-full px-2.5 py-1 text-xs",et("low")),children:["Low: ",O.low.length]})]}),(0,t.jsx)(eF,{}),(0,t.jsxs)("ul",{className:"space-y-2",children:[O.high.slice(0,2).map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Low activity • ",e.attendanceRate,"% attendance"]})]}),(0,t.jsxs)(f,{size:"sm",variant:"secondary",onClick:()=>l.oR.warning("High risk insight",{description:"Recommend parent call for ".concat(e.name,". Offer catch-up quiz and short video lesson.")}),children:[(0,t.jsx)(K.A,{className:"size-4 mr-2","aria-hidden":!0}),"Insights"]})]},e.id)),0===O.high.length&&(0,t.jsx)("li",{className:"text-sm text-muted-foreground",children:"No high-risk students detected."})]})]})]})]}),(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-3",children:[(0,t.jsx)(ee,{className:"text-lg",children:"Student Progress & Attendance"}),(0,t.jsx)(es,{children:"Track individual progress, manage attendance, and perform bulk actions."})]}),(0,t.jsxs)(ea,{className:"pt-0 space-y-3",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[(0,t.jsxs)("div",{className:"w-full max-w-xs",children:[(0,t.jsx)(N,{htmlFor:"student-search",className:"sr-only",children:"Search students"}),(0,t.jsx)(v,{id:"student-search",placeholder:"Search by name or ID",value:m,onChange:e=>u(e.target.value),className:"bg-background"})]}),(0,t.jsxs)(L,{onValueChange:e=>o(e),value:d,children:[(0,t.jsx)(M,{className:"w-[160px] bg-background",children:(0,t.jsx)(q,{placeholder:"All languages"})}),(0,t.jsx)(E,{children:i.map(e=>(0,t.jsx)(F,{value:e,children:e.toUpperCase()},e))})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(eu,{children:[(0,t.jsx)(ex,{asChild:!0,children:(0,t.jsx)(f,{variant:"secondary",children:"Bulk actions"})}),(0,t.jsxs)(eh,{align:"end",children:[(0,t.jsx)(ep,{onClick:I,children:"Select all visible"}),(0,t.jsx)(ep,{onClick:V,children:"Clear selection"}),(0,t.jsx)(ep,{onClick:function(){if(0===x.size)return void l.oR.message("No students selected",{description:"Select one or more students to send a message."});l.oR.success("Message sent",{description:"Sent to ".concat(x.size," selected student(s).")})},children:"Message selected"}),(0,t.jsx)(ep,{onClick:()=>l.oR.info("Assign practice set",{description:"Assigned to selected students."}),children:"Assign practice set"})]})]}),(0,t.jsx)(f,{onClick:_,variant:"default",children:"Export CSV"})]})]}),(0,t.jsxs)("div",{className:"rounded-md border border-border overflow-hidden",children:[(0,t.jsxs)("div",{className:"grid grid-cols-12 bg-secondary px-3 py-2 text-sm font-medium",children:[(0,t.jsxs)("div",{className:"col-span-5 sm:col-span-4 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 flex justify-center",children:(0,t.jsx)(eo,{"aria-label":"Select all",checked:x.size>0&&x.size===P.length,onCheckedChange:e=>e?I():V()})}),(0,t.jsx)("span",{className:"truncate",children:"Student"})]}),(0,t.jsx)("div",{className:"col-span-3 sm:col-span-3",children:"Progress"}),(0,t.jsx)("div",{className:"col-span-2 sm:col-span-2",children:"Attendance"}),(0,t.jsx)("div",{className:"col-span-2 sm:col-span-2",children:"Risk"}),(0,t.jsx)("div",{className:"hidden sm:block sm:col-span-1 text-right pr-2",children:"More"})]}),(0,t.jsxs)("ul",{className:"divide-y divide-border",children:[P.map(e=>{var s;return(0,t.jsxs)("li",{className:"grid grid-cols-12 items-center gap-2 px-3 py-3",children:[(0,t.jsxs)("div",{className:"col-span-5 sm:col-span-4 flex items-center gap-2 min-w-0",children:[(0,t.jsx)("div",{className:"w-6 flex justify-center",children:(0,t.jsx)(eo,{"aria-label":"Select ".concat(e.name),checked:x.has(e.id),onCheckedChange:()=>{var s;return s=e.id,void p(e=>{let a=new Set(e);return a.has(s)?a.delete(s):a.add(s),a})}})}),(0,t.jsx)(eL,{className:"size-8",children:(0,t.jsx)(eM,{className:"bg-accent text-foreground",children:eU(e.name)})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground break-words",children:["ID: ",e.id]})]})]}),(0,t.jsx)("div",{className:"col-span-3 sm:col-span-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ec,{value:e.progress,className:"flex-1","aria-label":"".concat(e.name," progress")}),(0,t.jsxs)("span",{className:"text-sm font-medium w-10 text-right",children:[e.progress,"%"]})]})}),(0,t.jsxs)("div",{className:"col-span-2 sm:col-span-2",children:[(0,t.jsxs)("span",{className:"text-sm",children:[e.attendanceRate,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Last active: ",e.lastActiveDays,"d"]})]}),(0,t.jsx)("div",{className:"col-span-2 sm:col-span-2",children:(0,t.jsx)(el,{className:h("rounded-full px-2.5 py-1 text-xs",et(e.risk)),children:(s=e.risk).slice(0,1).toUpperCase()+s.slice(1)})}),(0,t.jsx)("div",{className:"hidden sm:flex sm:col-span-1 justify-end",children:(0,t.jsxs)(eu,{children:[(0,t.jsx)(ex,{asChild:!0,children:(0,t.jsx)(f,{variant:"ghost",size:"icon","aria-label":"More actions",children:(0,t.jsx)(W.A,{className:"size-4","aria-hidden":!0})})}),(0,t.jsxs)(eh,{align:"end",children:[(0,t.jsx)(ep,{onClick:()=>l.oR.message("Attendance updated",{description:"Marked present for ".concat(e.name,".")}),children:"Mark present today"}),(0,t.jsx)(ep,{onClick:()=>l.oR.info("Assigned remedial lesson",{description:"Short video + 5-question quiz assigned to ".concat(e.name,".")}),children:"Assign remedial lesson"}),(0,t.jsx)(ep,{onClick:()=>l.oR.warning("Notify parent",{description:"Parent notified for ".concat(e.name,".")}),children:"Notify parent"})]})]})})]},e.id)}),0===P.length&&(0,t.jsx)("li",{className:"px-3 py-6 text-sm text-muted-foreground",children:"No students found."})]})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{children:[(0,t.jsx)(ee,{className:"text-lg",children:"Class Leaderboard"}),(0,t.jsx)(es,{children:"Top performers based on points"})]}),(0,t.jsx)(ea,{className:"pt-0",children:(0,t.jsx)("ul",{className:"space-y-3",children:U.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-full bg-secondary text-foreground grid place-items-center text-xs font-semibold",children:s+1}),(0,t.jsx)(eL,{className:"size-8",children:(0,t.jsx)(eM,{className:"bg-accent text-foreground",children:eU(e.name)})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Lang: ",e.language.toUpperCase()]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:e.points}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},e.id))})})]}),(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{children:[(0,t.jsx)(ee,{className:"text-lg",children:"Assessment Snapshot"}),(0,t.jsx)(es,{children:"Recent quiz and assignment performance"})]}),(0,t.jsx)(ea,{className:"pt-0",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(e_,{icon:(0,t.jsx)(J.A,{className:"size-4","aria-hidden":!0}),label:"Avg Quiz Score",value:"72%",trend:[50,55,60,68,70,72],color:"var(--chart-4)"}),(0,t.jsx)(e_,{icon:(0,t.jsx)(Z.A,{className:"size-4","aria-hidden":!0}),label:"Assignments On-Time",value:"81%",trend:[70,75,73,76,78,81],color:"var(--chart-2)"}),(0,t.jsx)(e_,{icon:(0,t.jsx)(H.A,{className:"size-4","aria-hidden":!0}),label:"Practice Completion",value:"64%",trend:[40,48,55,58,61,64],color:"var(--chart-5)"}),(0,t.jsx)(e_,{icon:(0,t.jsx)(K.A,{className:"size-4","aria-hidden":!0}),label:"Flagged Submissions",value:"3",trend:[5,4,3,3,2,3],color:"var(--chart-1)"})]})})]})]})]}),(0,t.jsxs)(S,{value:"management",className:"space-y-4",children:[(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-3",children:[(0,t.jsx)(ee,{className:"text-lg",children:"Attendance Management"}),(0,t.jsx)(es,{children:"Quickly mark attendance and view status."})]}),(0,t.jsxs)(ea,{className:"pt-0",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pb-3",children:[(0,t.jsx)(f,{variant:"secondary",onClick:()=>l.oR.success("Marked all present"),children:"Mark all present"}),(0,t.jsx)(f,{variant:"secondary",onClick:()=>l.oR.message("Attendance cleared",{description:"You can now mark individually."}),children:"Clear today"})]}),(0,t.jsxs)("div",{className:"rounded-md border border-border overflow-hidden",children:[(0,t.jsxs)("div",{className:"grid grid-cols-12 bg-secondary px-3 py-2 text-sm font-medium",children:[(0,t.jsx)("div",{className:"col-span-6 sm:col-span-6",children:"Student"}),(0,t.jsx)("div",{className:"col-span-3 sm:col-span-3",children:"Status"}),(0,t.jsx)("div",{className:"col-span-3 sm:col-span-3",children:"Action"})]}),(0,t.jsx)("ul",{className:"divide-y divide-border",children:z.map(e=>{let s=e.lastActiveDays<=1&&e.attendanceRate>60;return(0,t.jsxs)("li",{className:"grid grid-cols-12 items-center gap-2 px-3 py-3",children:[(0,t.jsxs)("div",{className:"col-span-6 sm:col-span-6 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["ID: ",e.id]})]}),(0,t.jsx)("div",{className:"col-span-3 sm:col-span-3",children:(0,t.jsx)(el,{className:h("rounded-full px-2.5 py-1 text-xs",s?"bg-success-soft text-success":"bg-destructive/10 text-destructive"),children:s?"Present":"Absent"})}),(0,t.jsx)("div",{className:"col-span-3 sm:col-span-3",children:(0,t.jsx)(f,{size:"sm",variant:"secondary",onClick:()=>l.oR.success("Attendance updated",{description:"Toggled ".concat(e.name,".")}),children:"Toggle"})})]},e.id)})})]})]})]}),(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-3",children:[(0,t.jsx)(ee,{className:"text-lg",children:"AI Dropout Risk Alerts"}),(0,t.jsx)(es,{children:"Review high-risk students and take action."})]}),(0,t.jsxs)(ea,{className:"pt-0 space-y-3",children:[0===O.high.length&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No high-risk alerts at this time."}),O.high.map(e=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 rounded-lg border border-border p-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"font-medium truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Signals: low attendance, ",e.lastActiveDays," days inactive, progress ",e.progress,"%"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(f,{size:"sm",variant:"secondary",onClick:()=>l.oR.warning("Parent call recommended",{description:"Call scheduled for ".concat(e.name,".")}),children:"Schedule parent call"}),(0,t.jsx)(f,{size:"sm",onClick:()=>l.oR.info("Support plan assigned",{description:"Assigned catch-up plan to ".concat(e.name,".")}),children:"Assign support plan"})]})]},e.id))]})]})]}),(0,t.jsx)(S,{value:"content",className:"space-y-4",children:(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-3",children:[(0,t.jsx)(ee,{className:"text-lg",children:"Content Management"}),(0,t.jsx)(es,{children:"Upload lessons, create quizzes, and story-based tasks with multi-language support."})]}),(0,t.jsxs)(ea,{className:"pt-0 space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,t.jsxs)(eb,{open:g,onOpenChange:j,children:[(0,t.jsx)(eN,{asChild:!0,children:(0,t.jsx)(f,{variant:"secondary",children:"Upload lesson"})}),(0,t.jsxs)(eC,{className:"max-w-lg",children:[(0,t.jsxs)(eS,{children:[(0,t.jsx)(eR,{children:"Upload lesson"}),(0,t.jsx)(ez,{children:"Provide a title, attach file, and select language(s)."})]}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),j(!1),l.oR.success("Lesson uploaded",{description:"Lesson submitted for approval."})},children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"lesson-title",children:"Title"}),(0,t.jsx)(v,{id:"lesson-title",placeholder:"e.g., Fractions Basics"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"lesson-file",children:"File"}),(0,t.jsx)(v,{id:"lesson-file",type:"file"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{children:"Language"}),(0,t.jsxs)(L,{children:[(0,t.jsx)(M,{className:"bg-background",children:(0,t.jsx)(q,{placeholder:"Choose language"})}),(0,t.jsx)(E,{children:i.map(e=>(0,t.jsx)(F,{value:e,children:e.toUpperCase()},e))})]})]}),(0,t.jsxs)(eA,{children:[(0,t.jsx)(f,{type:"button",variant:"secondary",onClick:()=>j(!1),children:"Cancel"}),(0,t.jsx)(f,{type:"submit",children:"Submit for approval"})]})]})]})]}),(0,t.jsxs)(eb,{open:b,onOpenChange:y,children:[(0,t.jsx)(eN,{asChild:!0,children:(0,t.jsx)(f,{children:"Create quiz"})}),(0,t.jsxs)(eC,{className:"max-w-lg",children:[(0,t.jsxs)(eS,{children:[(0,t.jsx)(eR,{children:"New quiz"}),(0,t.jsx)(ez,{children:"Build a quick assessment for your class."})]}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),y(!1),l.oR.success("Quiz created",{description:"Quiz sent for approval workflow."})},children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"quiz-title",children:"Title"}),(0,t.jsx)(v,{id:"quiz-title",placeholder:"e.g., Fractions Checkpoint"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{children:"Language"}),(0,t.jsxs)(L,{children:[(0,t.jsx)(M,{className:"bg-background",children:(0,t.jsx)(q,{placeholder:"Choose language"})}),(0,t.jsx)(E,{children:i.map(e=>(0,t.jsx)(F,{value:e,children:e.toUpperCase()},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"quiz-desc",children:"Instructions"}),(0,t.jsx)(en,{id:"quiz-desc",placeholder:"Add short instructions..."})]}),(0,t.jsxs)(eA,{children:[(0,t.jsx)(f,{type:"button",variant:"secondary",onClick:()=>y(!1),children:"Cancel"}),(0,t.jsx)(f,{type:"submit",children:"Create"})]})]})]})]})]}),(0,t.jsxs)(eb,{open:A,onOpenChange:R,children:[(0,t.jsx)(eN,{asChild:!0,children:(0,t.jsxs)(f,{variant:"secondary",children:[(0,t.jsx)(Q.A,{className:"size-4 mr-2","aria-hidden":!0}),"Create story-based task"]})}),(0,t.jsxs)(eC,{className:"max-w-2xl",children:[(0,t.jsxs)(eS,{children:[(0,t.jsx)(eR,{children:"Story-based task"}),(0,t.jsx)(ez,{children:"Design a narrative task to reinforce concepts."})]}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),R(!1),l.oR.success("Task created",{description:"Task submitted for approval."})},children:[(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"task-title",children:"Title"}),(0,t.jsx)(v,{id:"task-title",placeholder:"e.g., Journey through Fractions"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{children:"Language"}),(0,t.jsxs)(L,{children:[(0,t.jsx)(M,{className:"bg-background",children:(0,t.jsx)(q,{placeholder:"Choose language"})}),(0,t.jsx)(E,{children:i.map(e=>(0,t.jsx)(F,{value:e,children:e.toUpperCase()},e))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"task-prompt",children:"Story prompt"}),(0,t.jsx)(en,{id:"task-prompt",placeholder:"Write the story context and objectives...",rows:5})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"task-criteria",children:"Evaluation criteria"}),(0,t.jsx)(v,{id:"task-criteria",placeholder:"e.g., creativity, accuracy, completeness"})]}),(0,t.jsxs)(eA,{children:[(0,t.jsx)(f,{type:"button",variant:"secondary",onClick:()=>R(!1),children:"Cancel"}),(0,t.jsx)(f,{type:"submit",children:"Create task"})]})]})]})]}),(0,t.jsxs)(X,{className:"bg-secondary",children:[(0,t.jsxs)($,{className:"pb-2",children:[(0,t.jsx)(ee,{className:"text-base",children:"Approval Workflow"}),(0,t.jsx)(es,{children:"Track items pending approval."})]}),(0,t.jsx)(ea,{className:"pt-0",children:(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsxs)("li",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:"Fractions Basics (Lesson)"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Language: EN • Submitted 2h ago"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(el,{className:"bg-amber-100 text-amber-900 rounded-full px-2.5 py-1 text-xs",children:"Pending"}),(0,t.jsx)(f,{size:"sm",variant:"ghost",onClick:()=>l.oR.info("Approval nudged"),children:"Nudge"})]})]}),(0,t.jsxs)("li",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:"Fractions Checkpoint (Quiz)"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Language: HI • Submitted yesterday"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(el,{className:"bg-success-soft text-success rounded-full px-2.5 py-1 text-xs",children:"Approved"}),(0,t.jsx)(f,{size:"sm",variant:"secondary",onClick:()=>l.oR.success("Published",{description:"Quiz published to class."}),children:"Publish"})]})]})]})})]})]})]})}),(0,t.jsx)(S,{value:"analytics",className:"space-y-4",children:(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-3",children:[(0,t.jsx)(ee,{className:"text-lg",children:"Performance Analytics"}),(0,t.jsx)(es,{children:"View trends and deep-dive into class performance."})]}),(0,t.jsxs)(ea,{className:"pt-0 space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsx)(eW,{title:"Weekly Progress Trend",subtitle:"Avg completion per week",color:"var(--chart-3)",values:[40,45,50,58,62,68,72]}),(0,t.jsx)(eW,{title:"Attendance Trend",subtitle:"Daily presence",color:"var(--chart-2)",values:[80,76,84,82,86,88,90]}),(0,t.jsx)(eW,{title:"Quiz Performance",subtitle:"Average score",color:"var(--chart-4)",values:[60,62,64,66,70,72,74]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-border p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-base",children:"Result Analysis"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Identify concepts where students struggle the most."}),(0,t.jsx)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[{label:"Fractions",score:64},{label:"Decimals",score:72},{label:"Ratios",score:58},{label:"Algebra Basics",score:70},{label:"Geometry",score:61},{label:"Measurement",score:77}].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"min-w-[110px] text-sm",children:e.label}),(0,t.jsx)(ec,{value:e.score,className:"flex-1","aria-label":"".concat(e.label," average")}),(0,t.jsxs)("div",{className:"w-10 text-right text-sm font-medium",children:[e.score,"%"]})]},e.label))})]})]})]})}),(0,t.jsxs)(S,{value:"communications",className:"space-y-4",children:[(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-3",children:[(0,t.jsx)(ee,{className:"text-lg",children:"Student Engagement"}),(0,t.jsx)(es,{children:"Post announcements and send reminders."})]}),(0,t.jsxs)(ea,{className:"pt-0 space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"announcement",children:"Announcement"}),(0,t.jsx)(en,{id:"announcement",placeholder:"Share an update with your class...",rows:3})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(f,{onClick:()=>l.oR.success("Announcement posted",{description:"Your class has been notified."}),children:"Post to class"}),(0,t.jsx)(f,{variant:"secondary",onClick:()=>l.oR.message("Reminder scheduled",{description:"A reminder will be sent tomorrow at 9am."}),children:"Schedule reminder"})]})]})]}),(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-3",children:[(0,t.jsx)(ee,{className:"text-lg",children:"Parent Updates"}),(0,t.jsx)(es,{children:"Send progress updates to parents/guardians."})]}),(0,t.jsxs)(ea,{className:"pt-0 space-y-3",children:[(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,t.jsxs)(L,{children:[(0,t.jsx)(M,{className:"bg-background",children:(0,t.jsx)(q,{placeholder:"Select segment"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"all",children:"All students"}),(0,t.jsx)(F,{value:"low-progress",children:"Low progress (< 50%)"}),(0,t.jsx)(F,{value:"high-risk",children:"High risk"})]})]}),(0,t.jsxs)(L,{children:[(0,t.jsx)(M,{className:"bg-background",children:(0,t.jsx)(q,{placeholder:"Language"})}),(0,t.jsx)(E,{children:i.map(e=>(0,t.jsx)(F,{value:e,children:e.toUpperCase()},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"parent-message",children:"Message"}),(0,t.jsx)(en,{id:"parent-message",placeholder:"Write a concise update...",rows:4})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eo,{id:"include-report"}),(0,t.jsx)(N,{htmlFor:"include-report",children:"Include latest progress report"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(f,{onClick:()=>l.oR.success("Update sent",{description:"Parents have been notified."}),children:"Send update"}),(0,t.jsx)(f,{variant:"secondary",onClick:()=>l.oR.info("Draft saved"),children:"Save draft"})]})]})]})]}),(0,t.jsx)(S,{value:"reports",className:"space-y-4",children:(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{className:"pb-3",children:[(0,t.jsx)(ee,{className:"text-lg",children:"Export & Reports"}),(0,t.jsx)(es,{children:"Download class performance and attendance data."})]}),(0,t.jsx)(ea,{className:"pt-0 space-y-3",children:(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,t.jsx)(eH,{title:"Progress report",description:"Per-student progress and trends",onExport:_}),(0,t.jsx)(eH,{title:"Attendance log",description:"Daily attendance records",onExport:()=>l.oR.success("Attendance export",{description:"CSV will download shortly."})}),(0,t.jsx)(eH,{title:"Assessment results",description:"Quiz and assignment scores",onExport:()=>l.oR.success("Results export",{description:"CSV will download shortly."})})]})})]})})]})]})})}function eU(e){var s,a;let t=e.trim().split(/\s+/);return((null==(s=t[0])?void 0:s[0])||"").concat((null==(a=t[1])?void 0:a[0])||"").toUpperCase()}function eI(e){let{classLabel:s,attendanceRate:a,avgProgress:r,riskHigh:l}=e;return(0,t.jsx)("div",{className:h("w-full max-w-full rounded-xl bg-card border border-border px-4 py-4","flex flex-col gap-4"),children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:s}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Manage classroom, monitor progress, and streamline communication."})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)(el,{variant:"secondary",className:"rounded-full px-3 py-1",children:[(0,t.jsx)(H.A,{className:"size-4 mr-1.5","aria-hidden":!0}),"Attendance ",a,"%"]}),(0,t.jsxs)(el,{className:"rounded-full px-3 py-1 bg-success-soft text-success",children:[(0,t.jsx)(B.A,{className:"size-4 mr-1.5","aria-hidden":!0}),"Avg Progress ",r,"%"]}),(0,t.jsxs)(el,{className:h("rounded-full px-3 py-1",l>0?"bg-destructive/10 text-destructive":"bg-secondary"),children:[(0,t.jsx)(K.A,{className:"size-4 mr-1.5","aria-hidden":!0}),l," High-risk"]})]})]})})}function eV(e){let{values:s,color:a="var(--chart-3)"}=e,r=Math.max(...s,1),l=Math.min(...s,0),n=s.map((e,a)=>{let t=a/Math.max(s.length-1,1)*100,n=40-(e-l)/Math.max(r-l,1)*40;return"".concat(t,",").concat(n)});return(0,t.jsx)("svg",{width:100,height:40,viewBox:"0 0 ".concat(100," ").concat(40),className:"shrink-0","aria-hidden":!0,role:"img",children:(0,t.jsx)("polyline",{fill:"none",stroke:a,strokeWidth:"2",points:n.join(" "),strokeLinejoin:"round",strokeLinecap:"round"})})}function e_(e){let{icon:s,label:a,value:r,trend:l,color:n}=e;return(0,t.jsxs)("div",{className:"rounded-lg border border-border p-3 bg-background",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s,a]}),(0,t.jsx)("div",{className:"text-base font-semibold",children:r})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(eV,{values:l,color:n})})]})}function eW(e){let{title:s,subtitle:a,values:r,color:l}=e;return(0,t.jsxs)("div",{className:"rounded-lg border border-border p-4 bg-background",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-base",children:s}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:a})]}),(0,t.jsx)(Z.A,{className:"size-5 text-foreground/70","aria-hidden":!0})]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(eV,{values:r,color:l})})]})}function eH(e){let{title:s,description:a,onExport:r}=e;return(0,t.jsxs)("div",{className:"rounded-lg border border-border p-4 bg-background flex flex-col justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-base",children:s}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a})]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsxs)(f,{onClick:r,children:[(0,t.jsx)(G.A,{className:"size-4 mr-2","aria-hidden":!0}),"Export CSV"]})})]})}var eQ=a(3783),eB=a(1684),eY=a(7051),eG=a(4020),eK=a(2856),eJ=a(6651),eZ=a(6131),eX=a(2749),e$=a(4708),e0=a(3896),e2=a(4884);function e1(e){let{className:s,...a}=e;return(0,t.jsx)(e2.bL,{"data-slot":"switch",className:h("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,t.jsx)(e2.zi,{"data-slot":"switch-thumb",className:h("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function e4(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:h("w-full caption-bottom text-sm",s),...a})})}function e3(e){let{className:s,...a}=e;return(0,t.jsx)("thead",{"data-slot":"table-header",className:h("[&_tr]:border-b",s),...a})}function e5(e){let{className:s,...a}=e;return(0,t.jsx)("tbody",{"data-slot":"table-body",className:h("[&_tr:last-child]:border-0",s),...a})}function e6(e){let{className:s,...a}=e;return(0,t.jsx)("tr",{"data-slot":"table-row",className:h("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...a})}function e8(e){let{className:s,...a}=e;return(0,t.jsx)("th",{"data-slot":"table-head",className:h("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function e7(e){let{className:s,...a}=e;return(0,t.jsx)("td",{"data-slot":"table-cell",className:h("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a})}function e9(e){let{icon:s,label:a,value:r,delta:l,tone:n="neutral"}=e;return(0,t.jsxs)(X,{className:"bg-card shadow-sm",children:[(0,t.jsxs)($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(ee,{className:"text-sm font-medium",children:a}),(0,t.jsxs)("span",{className:h("inline-flex items-center rounded-full px-2 py-1 text-xs","success"===n?"bg-success-soft text-success":"warning"===n?"bg-amber-100 text-amber-800":"danger"===n?"bg-destructive/10 text-destructive":"bg-muted text-foreground/80"),children:[(0,t.jsx)(s,{className:"mr-1 h-3.5 w-3.5","aria-hidden":"true"}),"Status"]})]}),(0,t.jsxs)(ea,{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-2xl font-semibold",children:r}),l&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["up"===l.direction?"▲":"down"===l.direction?"▼":"■"," ",l.value," vs last period"]})]})]})}function se(e){let{label:s,state:a}=e,r={ok:{bg:"bg-success-soft",dot:"bg-success",text:"text-success"},degraded:{bg:"bg-amber-100",dot:"bg-amber-500",text:"text-amber-800"},down:{bg:"bg-destructive/10",dot:"bg-destructive",text:"text-destructive"}};return(0,t.jsxs)("div",{className:h("inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm",r[a].bg,r[a].text),role:"status","aria-label":"".concat(s," ").concat(a),children:[(0,t.jsx)("span",{className:h("h-2 w-2 rounded-full",r[a].dot)}),(0,t.jsx)("span",{className:"min-w-0",children:s})]})}let ss=[{id:"u-001",name:"Aisha Khan",role:"teacher",school:"Green Valley High",status:"active",lastActive:"2h ago"},{id:"u-002",name:"Ravi Patel",role:"student",school:"Sunrise Primary",status:"active",lastActive:"5m ago"},{id:"u-003",name:"Grace Liu",role:"admin",school:"District HQ",status:"active",lastActive:"1d ago"},{id:"u-004",name:"Samuel Okoro",role:"teacher",school:"Riverbank Secondary",status:"pending",lastActive:"—"},{id:"u-005",name:"Fatima Noor",role:"student",school:"Sunrise Primary",status:"suspended",lastActive:"3d ago"}],sa=[{id:"c-101",title:"Intro to Fractions",subject:"Mathematics",teacher:"Aisha Khan",school:"Green Valley High",version:3,status:"pending",submittedAt:"2025-09-10"},{id:"c-102",title:"Solar System Basics",subject:"Science",teacher:"Ravi Patel",school:"Sunrise Primary",version:1,status:"pending",submittedAt:"2025-09-09"},{id:"c-103",title:"Local History: Trade Routes",subject:"Social Studies",teacher:"Samuel Okoro",school:"Riverbank Secondary",version:2,status:"changes_requested",submittedAt:"2025-09-11"}];function st(e){var s;let{className:a}=e,[n,i]=(0,r.useState)(ss),[c,d]=(0,r.useState)(new Set),[o,m]=(0,r.useState)("all"),[u,x]=(0,r.useState)("all"),[p,g]=(0,r.useState)(""),j=(0,r.useMemo)(()=>["District HQ",...Array.from(new Set(n.map(e=>e.school))).filter(e=>"District HQ"!==e)],[n]),b=(0,r.useMemo)(()=>n.filter(e=>{let s="all"===o||e.role===o,a="all"===u||e.school===u,t=0===p.trim().length||"".concat(e.name," ").concat(e.school," ").concat(e.role," ").concat(e.status).toLowerCase().includes(p.toLowerCase());return s&&a&&t}),[n,o,u,p]),y=e=>{e?d(new Set(b.map(e=>e.id))):d(new Set)},A=(e,s)=>{d(a=>{let t=new Set(a);return s?t.add(e):t.delete(e),t})},[R,z]=(0,r.useState)(sa),[P,D]=(0,r.useState)(null),[T,O]=(0,r.useState)(!1),[U,I]=(0,r.useState)(!0),[V,_]=(0,r.useState)("180"),Q=c.size,B=e=>{if(!Q)return void l.oR.message("No users selected",{description:"Select one or more users to assign a role."});i(s=>s.map(s=>c.has(s.id)?{...s,role:e}:s)),l.oR.success('Assigned role "'.concat(e,'" to ').concat(Q," user").concat(Q>1?"s":"",".")),d(new Set)},G=e=>{z(s=>s.map(s=>s.id===e?{...s,status:"approved"}:s)),l.oR.success("Content approved")},K=e=>{z(s=>s.map(s=>s.id===e?{...s,status:"changes_requested"}:s)),l.oR.message("Requested changes",{description:"The teacher will be notified."})},et=(e,s)=>{l.oR.info("Export started",{description:"Preparing ".concat(e," data for ").concat(s,". You'll receive a download shortly.")})};return(0,t.jsxs)("section",{className:h("w-full max-w-full",a),children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight flex items-center gap-2",children:[(0,t.jsx)(eQ.A,{className:"h-5 w-5","aria-hidden":"true"}),"Admin Dashboard"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"System-wide oversight and management for LearnQuest."})]}),(0,t.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,t.jsxs)(f,{variant:"outline",className:"bg-card",onClick:()=>et("analytics","last-30-days"),"aria-label":"Export analytics",children:[(0,t.jsx)(eB.A,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,t.jsxs)(f,{className:"bg-primary text-primary-foreground hover:opacity-90",children:[(0,t.jsx)(eY.A,{className:"mr-2 h-4 w-4"}),"System Settings"]})]})]}),(0,t.jsxs)(w,{defaultValue:"overview",className:"w-full",children:[(0,t.jsxs)(k,{className:"flex w-full flex-wrap",children:[(0,t.jsxs)(C,{value:"overview",className:"min-w-[120px]",children:[(0,t.jsx)(W.A,{className:"mr-2 h-4 w-4"}),"Overview"]}),(0,t.jsxs)(C,{value:"users",className:"min-w-[120px]",children:[(0,t.jsx)(eG.A,{className:"mr-2 h-4 w-4"}),"Users"]}),(0,t.jsxs)(C,{value:"content",className:"min-w-[120px]",children:[(0,t.jsx)(Y.A,{className:"mr-2 h-4 w-4"}),"Content"]}),(0,t.jsxs)(C,{value:"reports",className:"min-w-[120px]",children:[(0,t.jsx)(Z.A,{className:"mr-2 h-4 w-4"}),"Reports"]}),(0,t.jsxs)(C,{value:"system",className:"min-w-[120px]",children:[(0,t.jsx)(eK.A,{className:"mr-2 h-4 w-4"}),"System"]})]}),(0,t.jsxs)(S,{value:"overview",className:"mt-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[(0,t.jsx)(e9,{icon:H.A,label:"Uptime (30d)",value:"99.97%",delta:{value:"+0.02%",direction:"up"},tone:"success"}),(0,t.jsx)(e9,{icon:eJ.A,label:"Active Users",value:"12,430",delta:{value:"+4.6%",direction:"up"},tone:"neutral"}),(0,t.jsx)(e9,{icon:Z.A,label:"Avg. Session (min)",value:"18.2",delta:{value:"-1.1%",direction:"down"},tone:"warning"}),(0,t.jsx)(e9,{icon:eB.A,label:"API P95 Latency",value:"412ms",delta:{value:"-7.8%",direction:"up"},tone:"success"})]}),(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{children:[(0,t.jsx)(ee,{className:"text-base sm:text-lg",children:"Platform Health"}),(0,t.jsx)(es,{children:"Subsystem status and performance indicators"})]}),(0,t.jsxs)(ea,{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(se,{label:"Auth",state:"ok"}),(0,t.jsx)(se,{label:"DB",state:"ok"}),(0,t.jsx)(se,{label:"Storage",state:"degraded"}),(0,t.jsx)(se,{label:"Realtime",state:"ok"}),(0,t.jsx)(se,{label:"CDN",state:"ok"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"capacity",children:"Resource Utilization"}),(0,t.jsxs)("div",{className:"rounded-lg border border-border p-3",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"CPU"}),(0,t.jsx)("span",{children:"62%"})]}),(0,t.jsx)(ec,{id:"capacity",value:62,"aria-label":"CPU utilization"}),(0,t.jsxs)("div",{className:"mt-3 mb-2 flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"Memory"}),(0,t.jsx)("span",{children:"74%"})]}),(0,t.jsx)(ec,{value:74,"aria-label":"Memory utilization"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 min-w-0",children:[(0,t.jsx)(N,{children:"User Engagement"}),(0,t.jsxs)("div",{className:"rounded-lg border border-border p-3",children:[(0,t.jsx)("div",{className:"mb-3 text-sm text-muted-foreground",children:"Past 7 days completion distribution"}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2",children:[48,52,60,44,70,66,58].map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("div",{className:"w-full max-w-[20px] rounded-md bg-accent",style:{height:"".concat(Math.max(8,e/1.2),"px")},"aria-label":"Day ".concat(s+1," completion")}),(0,t.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:["D",s+1]})]},s))})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-border p-3",children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:"Content Approval SLA"}),(0,t.jsx)("span",{children:"92% under 48h"})]}),(0,t.jsx)(ec,{value:92,"aria-label":"SLA compliance"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(N,{children:"Recent Audit Logs"}),(0,t.jsx)("div",{className:"rounded-lg border border-border divide-y",children:[{id:"l1",text:"Approved content c-101 by Aisha Khan",icon:eZ.A},{id:"l2",text:"Assigned role admin to u-003",icon:eX.A},{id:"l3",text:"Exported usage report (30d)",icon:eB.A}].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3",children:[(0,t.jsx)(e.icon,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"}),(0,t.jsx)("p",{className:"text-sm break-words",children:e.text})]},e.id))}),(0,t.jsxs)(f,{variant:"outline",className:"w-full bg-card",children:[(0,t.jsx)(eZ.A,{className:"mr-2 h-4 w-4"}),"View full audit trail"]})]})]})]})]}),(0,t.jsx)(S,{value:"users",className:"mt-6 space-y-4",children:(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{children:[(0,t.jsxs)(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[(0,t.jsx)(e$.A,{className:"h-4 w-4"}),"User Management"]}),(0,t.jsx)(es,{children:"Bulk operations, role assignment, and filters"})]}),(0,t.jsxs)(ea,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(N,{htmlFor:"user-search",className:"sr-only",children:"Search users"}),(0,t.jsx)(v,{id:"user-search",placeholder:"Search by name, school, role, or status",value:p,onChange:e=>g(e.target.value),className:"bg-card"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:flex gap-3",children:[(0,t.jsxs)("div",{className:"min-w-[180px]",children:[(0,t.jsx)(N,{className:"mb-1 block text-xs text-muted-foreground",children:"Role"}),(0,t.jsxs)(L,{onValueChange:e=>m(e),defaultValue:"all",children:[(0,t.jsx)(M,{className:"bg-card",children:(0,t.jsx)(q,{placeholder:"Filter by role"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"all",children:"All"}),(0,t.jsx)(F,{value:"student",children:"Student"}),(0,t.jsx)(F,{value:"teacher",children:"Teacher"}),(0,t.jsx)(F,{value:"admin",children:"Admin"})]})]})]}),(0,t.jsxs)("div",{className:"min-w-[200px]",children:[(0,t.jsx)(N,{className:"mb-1 block text-xs text-muted-foreground",children:"School"}),(0,t.jsxs)(L,{onValueChange:e=>x(e),defaultValue:"all",children:[(0,t.jsx)(M,{className:"bg-card",children:(0,t.jsx)(q,{placeholder:"Filter by school"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"all",children:"All"}),j.map(e=>(0,t.jsx)(F,{value:e,children:e},e))]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-end justify-end gap-2",children:[(0,t.jsxs)(eu,{children:[(0,t.jsx)(ex,{asChild:!0,children:(0,t.jsxs)(f,{variant:"outline",className:"bg-card",children:[(0,t.jsx)(eX.A,{className:"mr-2 h-4 w-4"}),"Bulk actions"]})}),(0,t.jsxs)(eh,{align:"end",className:"w-48",children:[(0,t.jsxs)(eg,{children:[Q," selected"]}),(0,t.jsx)(ej,{}),(0,t.jsx)(ep,{onClick:()=>B("student"),children:"Assign role: Student"}),(0,t.jsx)(ep,{onClick:()=>B("teacher"),children:"Assign role: Teacher"}),(0,t.jsx)(ep,{onClick:()=>B("admin"),children:"Assign role: Admin"}),(0,t.jsx)(ej,{}),(0,t.jsx)(ep,{onClick:()=>{if(!Q)return void l.oR.message("No users selected",{description:"Select one or more users to deactivate."});i(e=>e.map(e=>c.has(e.id)?{...e,status:"suspended"}:e)),l.oR.success("Deactivated ".concat(Q," user").concat(Q>1?"s":"",".")),d(new Set)},children:"Deactivate"}),(0,t.jsx)(ep,{onClick:()=>{if(!Q)return void l.oR.message("No users selected",{description:"Select users to send reset links."});l.oR.success("Password reset links sent to ".concat(Q," user").concat(Q>1?"s":"",".")),d(new Set)},children:"Reset password"})]})]}),(0,t.jsxs)(f,{onClick:()=>et("users","current-filters"),className:"bg-primary text-primary-foreground hover:opacity-90",children:[(0,t.jsx)(eB.A,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]}),(0,t.jsx)("div",{className:"rounded-lg border border-border overflow-hidden",children:(0,t.jsxs)(e4,{children:[(0,t.jsx)(e3,{children:(0,t.jsxs)(e6,{className:"bg-muted/50",children:[(0,t.jsx)(e8,{className:"w-10",children:(0,t.jsx)(eo,{"aria-label":"Select all",checked:b.length>0&&Q===b.length,onCheckedChange:e=>y(!!e)})}),(0,t.jsx)(e8,{className:"min-w-0",children:"Name"}),(0,t.jsx)(e8,{children:"Role"}),(0,t.jsx)(e8,{children:"School"}),(0,t.jsx)(e8,{children:"Status"}),(0,t.jsx)(e8,{children:"Last active"}),(0,t.jsx)(e8,{className:"w-[1%]",children:"Action"})]})}),(0,t.jsxs)(e5,{children:[b.map(e=>(0,t.jsxs)(e6,{className:"hover:bg-muted/40",children:[(0,t.jsx)(e7,{children:(0,t.jsx)(eo,{"aria-label":"Select ".concat(e.name),checked:c.has(e.id),onCheckedChange:s=>A(e.id,!!s)})}),(0,t.jsx)(e7,{className:"min-w-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,t.jsx)("div",{className:"h-8 w-8 shrink-0 rounded-full bg-accent flex items-center justify-center",children:"student"===e.role?(0,t.jsx)(J.A,{className:"h-4 w-4","aria-hidden":"true"}):"teacher"===e.role?(0,t.jsx)(e0.A,{className:"h-4 w-4","aria-hidden":"true"}):(0,t.jsx)(eG.A,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"truncate font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground break-words",children:e.id})]})]})}),(0,t.jsx)(e7,{className:"capitalize",children:e.role}),(0,t.jsx)(e7,{className:"min-w-0",children:(0,t.jsx)("span",{className:"truncate block",children:e.school})}),(0,t.jsxs)(e7,{children:["active"===e.status&&(0,t.jsx)(el,{className:"bg-success-soft text-success",children:"Active"}),"pending"===e.status&&(0,t.jsx)(el,{variant:"secondary",children:"Pending"}),"suspended"===e.status&&(0,t.jsx)(el,{className:"bg-destructive/10 text-destructive",children:"Suspended"})]}),(0,t.jsx)(e7,{className:"text-muted-foreground",children:e.lastActive}),(0,t.jsx)(e7,{children:(0,t.jsxs)(eu,{children:[(0,t.jsx)(ex,{asChild:!0,children:(0,t.jsx)(f,{variant:"ghost",size:"sm","aria-label":"Manage ".concat(e.name),children:(0,t.jsx)(W.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(eh,{align:"end",className:"w-44",children:[(0,t.jsx)(eg,{children:"Actions"}),(0,t.jsx)(ep,{onClick:()=>B("student"),children:"Set role: Student"}),(0,t.jsx)(ep,{onClick:()=>B("teacher"),children:"Set role: Teacher"}),(0,t.jsx)(ep,{onClick:()=>B("admin"),children:"Set role: Admin"}),(0,t.jsx)(ej,{}),(0,t.jsx)(ep,{onClick:()=>l.oR.message("Password reset sent"),children:"Send reset link"}),(0,t.jsx)(ep,{onClick:()=>{i(s=>s.map(s=>s.id===e.id?{...s,status:"suspended"}:s)),l.oR.success("Deactivated ".concat(e.name))},children:"Deactivate"})]})]})})]},e.id)),0===b.length&&(0,t.jsx)(e6,{children:(0,t.jsx)(e7,{colSpan:7,className:"text-center text-sm text-muted-foreground py-8",children:"No users match your filters."})})]})]})})]})]})}),(0,t.jsxs)(S,{value:"content",className:"mt-6 space-y-4",children:[(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{children:[(0,t.jsxs)(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[(0,t.jsx)(Y.A,{className:"h-4 w-4"}),"Content Approval"]}),(0,t.jsx)(es,{children:"Review, approve, and track versions"})]}),(0,t.jsx)(ea,{className:"space-y-4",children:(0,t.jsx)("div",{className:"rounded-lg border border-border overflow-hidden",children:(0,t.jsxs)(e4,{children:[(0,t.jsx)(e3,{children:(0,t.jsxs)(e6,{className:"bg-muted/50",children:[(0,t.jsx)(e8,{children:"Title"}),(0,t.jsx)(e8,{children:"Subject"}),(0,t.jsx)(e8,{children:"Teacher"}),(0,t.jsx)(e8,{children:"School"}),(0,t.jsx)(e8,{children:"Version"}),(0,t.jsx)(e8,{children:"Status"}),(0,t.jsx)(e8,{className:"w-[1%]",children:"Action"})]})}),(0,t.jsxs)(e5,{children:[R.map(e=>(0,t.jsxs)(e6,{className:"hover:bg-muted/40",children:[(0,t.jsx)(e7,{className:"min-w-0",children:(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"truncate font-medium",children:e.title}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground break-words",children:e.id})]})}),(0,t.jsx)(e7,{children:e.subject}),(0,t.jsx)(e7,{children:e.teacher}),(0,t.jsx)(e7,{children:e.school}),(0,t.jsxs)(e7,{children:["v",e.version]}),(0,t.jsxs)(e7,{children:["pending"===e.status&&(0,t.jsx)(el,{variant:"secondary",children:"Pending"}),"approved"===e.status&&(0,t.jsx)(el,{className:"bg-success-soft text-success",children:"Approved"}),"changes_requested"===e.status&&(0,t.jsx)(el,{className:"bg-amber-100 text-amber-800",children:"Changes requested"})]}),(0,t.jsxs)(e7,{className:"space-x-2",children:[(0,t.jsxs)(eb,{children:[(0,t.jsx)(eN,{asChild:!0,children:(0,t.jsx)(f,{variant:"outline",size:"sm",className:"bg-card",children:"Review"})}),(0,t.jsxs)(eC,{className:"sm:max-w-lg",children:[(0,t.jsxs)(eS,{children:[(0,t.jsxs)(eR,{children:["Review “",e.title,"”"]}),(0,t.jsxs)(ez,{children:["Submitted ",e.submittedAt," • ",e.subject," • v",e.version]})]}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-border p-3",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Quality checklist"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-muted-foreground",children:[(0,t.jsx)("li",{children:"Curriculum-aligned objectives"}),(0,t.jsx)("li",{children:"Language clarity and inclusivity"}),(0,t.jsx)("li",{children:"Offline-friendly assets"})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-border p-3",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Version notes"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Improved examples and added practice questions. Optimized images for low bandwidth."})]})]}),(0,t.jsxs)(eA,{className:"gap-2",children:[(0,t.jsx)(f,{variant:"outline",onClick:()=>K(e.id),className:"bg-card",children:"Request changes"}),(0,t.jsx)(ew,{asChild:!0,children:(0,t.jsx)(f,{onClick:()=>G(e.id),className:"bg-primary text-primary-foreground hover:opacity-90",children:"Approve"})})]})]})]}),(0,t.jsx)(f,{variant:"ghost",size:"sm",onClick:()=>D(e),"aria-label":"View versions for ".concat(e.title),children:"Versions"})]})]},e.id)),0===R.length&&(0,t.jsx)(e6,{children:(0,t.jsx)(e7,{colSpan:7,className:"text-center text-sm text-muted-foreground py-8",children:"No content items in the queue."})})]})]})})})]}),(0,t.jsx)(eb,{open:!!P,onOpenChange:e=>!e&&D(null),children:(0,t.jsxs)(eC,{className:"sm:max-w-lg",children:[(0,t.jsxs)(eS,{children:[(0,t.jsx)(eR,{children:"Version history"}),(0,t.jsxs)(ez,{children:[null==P?void 0:P.title," • ",null==P?void 0:P.subject]})]}),(0,t.jsx)("div",{className:"space-y-3",children:[...Array(null!=(s=null==P?void 0:P.version)?s:1).keys()].map(e=>{var s;return(null!=(s=null==P?void 0:P.version)?s:1)-e}).map(e=>(0,t.jsxs)("div",{className:"rounded-lg border border-border p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"font-medium",children:["Version v",e]}),e===(null==P?void 0:P.version)?(0,t.jsx)(el,{variant:"secondary",children:"Current"}):(0,t.jsx)(el,{children:"Past"})]}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-muted-foreground",children:["Change log for v",e,": Minor revisions and corrections."]})]},e))}),(0,t.jsx)(eA,{children:(0,t.jsx)(ew,{asChild:!0,children:(0,t.jsx)(f,{variant:"outline",className:"bg-card",children:"Close"})})})]})})]}),(0,t.jsx)(S,{value:"reports",className:"mt-6 space-y-4",children:(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{children:[(0,t.jsxs)(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"h-4 w-4"}),"Reporting & Analytics"]}),(0,t.jsx)(es,{children:"Generate insights and export data"})]}),(0,t.jsxs)(ea,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{className:"mb-1 block text-xs text-muted-foreground",children:"Report type"}),(0,t.jsxs)(L,{defaultValue:"usage",children:[(0,t.jsx)(M,{className:"bg-card",children:(0,t.jsx)(q,{placeholder:"Select type"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"usage",children:"Usage statistics"}),(0,t.jsx)(F,{value:"outcomes",children:"Educational outcomes"}),(0,t.jsx)(F,{value:"impact",children:"Impact assessment"}),(0,t.jsx)(F,{value:"compliance",children:"Compliance report"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{className:"mb-1 block text-xs text-muted-foreground",children:"Timeframe"}),(0,t.jsxs)(L,{defaultValue:"30d",children:[(0,t.jsx)(M,{className:"bg-card",children:(0,t.jsx)(q,{placeholder:"Select timeframe"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"7d",children:"Last 7 days"}),(0,t.jsx)(F,{value:"30d",children:"Last 30 days"}),(0,t.jsx)(F,{value:"90d",children:"Last 90 days"}),(0,t.jsx)(F,{value:"ytd",children:"Year to date"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{className:"mb-1 block text-xs text-muted-foreground",children:"Format"}),(0,t.jsxs)(L,{defaultValue:"csv",children:[(0,t.jsx)(M,{className:"bg-card",children:(0,t.jsx)(q,{placeholder:"Choose format"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"csv",children:"CSV"}),(0,t.jsx)(F,{value:"json",children:"JSON"}),(0,t.jsx)(F,{value:"pdf",children:"PDF"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(f,{variant:"outline",className:"bg-card",onClick:()=>et("analytics","last-30-days"),children:[(0,t.jsx)(eB.A,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,t.jsx)(f,{className:"bg-primary text-primary-foreground hover:opacity-90",onClick:()=>l.oR.success("Report generated"),children:"Generate report"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{children:[(0,t.jsx)(ee,{className:"text-base",children:"Engagement trend"}),(0,t.jsx)(es,{children:"Weekly active learners"})]}),(0,t.jsx)(ea,{children:(0,t.jsx)("div",{className:"flex items-end gap-2 h-32",children:[12,14,16,18,17,19,22,21,24,26,25,28].map((e,s)=>(0,t.jsx)("div",{className:"flex-1 rounded-md bg-accent transition-transform hover:scale-[1.02]",style:{height:"".concat(3*e,"px")},"aria-label":"Week ".concat(s+1," value ").concat(e,"k"),title:"Week ".concat(s+1,": ").concat(e,"k")},s))})})]}),(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{children:[(0,t.jsx)(ee,{className:"text-base",children:"Outcome summary"}),(0,t.jsx)(es,{children:"Assessment pass rate"})]}),(0,t.jsx)(ea,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"Math"}),(0,t.jsx)("span",{children:"78%"})]}),(0,t.jsx)(ec,{value:78,"aria-label":"Math pass rate"}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"Science"}),(0,t.jsx)("span",{children:"82%"})]}),(0,t.jsx)(ec,{value:82,"aria-label":"Science pass rate"}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"Language"}),(0,t.jsx)("span",{children:"74%"})]}),(0,t.jsx)(ec,{value:74,"aria-label":"Language pass rate"})]})})]})]})]})]})}),(0,t.jsx)(S,{value:"system",className:"mt-6 space-y-4",children:(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsxs)($,{children:[(0,t.jsxs)(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[(0,t.jsx)(eK.A,{className:"h-4 w-4"}),"System Configuration & Health"]}),(0,t.jsx)(es,{children:"Operational controls and monitoring"})]}),(0,t.jsxs)(ea,{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"rounded-lg border border-border p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Maintenance mode"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Temporarily disable new sessions"})]}),(0,t.jsx)(e1,{checked:T,onCheckedChange:O,"aria-label":"Toggle maintenance mode"})]})}),(0,t.jsx)("div",{className:"rounded-lg border border-border p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Offline sync"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Background refresh on mobile"})]}),(0,t.jsx)(e1,{checked:U,onCheckedChange:I,"aria-label":"Toggle offline sync"})]})}),(0,t.jsxs)("div",{className:"rounded-lg border border-border p-4",children:[(0,t.jsx)(N,{className:"mb-1 block text-xs text-muted-foreground",children:"Data retention"}),(0,t.jsxs)(L,{value:V,onValueChange:e=>_(e),children:[(0,t.jsx)(M,{className:"bg-card",children:(0,t.jsx)(q,{placeholder:"Choose retention"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"30",children:"30 days"}),(0,t.jsx)(F,{value:"90",children:"90 days"}),(0,t.jsx)(F,{value:"180",children:"180 days"}),(0,t.jsx)(F,{value:"365",children:"365 days"})]})]}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-muted-foreground",children:["Applies to logs and transient analytics. Current: ",V," days."]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-border p-4",children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:"Scalability"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"rounded-md bg-muted p-3",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Queue depth"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"134"})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted p-3",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Workers online"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"24"})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted p-3",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Job latency"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"1.8s"})]}),(0,t.jsxs)("div",{className:"rounded-md bg-muted p-3",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Error rate"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"0.3%"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-border p-4",children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:"Compliance"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(el,{variant:"secondary",children:"FERPA"}),(0,t.jsx)(el,{variant:"secondary",children:"COPPA"}),(0,t.jsx)(el,{className:"bg-success-soft text-success",children:"GDPR"})]}),(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:(0,t.jsxs)(f,{variant:"outline",className:"bg-card",onClick:()=>et("analytics","compliance"),children:[(0,t.jsx)(eB.A,{className:"mr-2 h-4 w-4"}),"Export compliance report"]})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-border p-4",children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:"Recent system activity"}),(0,t.jsx)("div",{className:"divide-y",children:["Maintenance window scheduled for 22:00 UTC","New school onboarded: Hillcrest Elementary","Policy update: Retention extended to 180 days"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 py-3",children:[(0,t.jsx)(eJ.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,t.jsx)("p",{className:"text-sm break-words",children:e})]},s))})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-border p-4",children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:"Support tools"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(f,{variant:"outline",className:"bg-card",onClick:()=>l.oR.message("Impersonation started"),children:[(0,t.jsx)(eG.A,{className:"mr-2 h-4 w-4"}),"Impersonate user"]}),(0,t.jsxs)(f,{variant:"outline",className:"bg-card",onClick:()=>l.oR.message("Cache cleared"),children:[(0,t.jsx)(H.A,{className:"mr-2 h-4 w-4"}),"Clear cache"]}),(0,t.jsxs)(f,{variant:"outline",className:"bg-card",onClick:()=>l.oR.message("Diagnostics sent"),children:[(0,t.jsx)(eB.A,{className:"mr-2 h-4 w-4"}),"Send diagnostics"]})]})]})]})]})]})})]})]})}var sr=a(8719),sl=a(583),sn=a(6027),si=a(2105),sc=a(987),sd=a(6611),so=a(2741);let sm=[{id:"module-1",title:{en:"Journey into Fractions",hi:"भिन्नों की यात्रा",es:"Viaje a las Fracciones"},chapters:[{id:"ch-1",title:{en:"Mission 1: Sharing Slices",hi:"मिशन 1: टुकड़ों को बाँटना",es:"Misi\xf3n 1: Compartiendo porciones"},description:{en:"Learn how to split a whole into equal parts using everyday stories.",hi:"रोज़मर्रा की कहानियों से पूरे को बराबर भागों में बाँटना सीखें।",es:"Aprende a dividir un entero en partes iguales con historias cotidianas."},thumbUnsplash:"https://images.unsplash.com/photo-1488477181946-6428a0291777?q=80&w=1200&auto=format&fit=crop",quiz:{passThreshold:70,questions:[{id:"q1",difficulty:"easy",prompt:{en:"You cut a roti into 4 equal parts and eat 1. What fraction did you eat?",hi:"आपने रोटी को 4 बराबर भागों में काटा और 1 खाया। आपने कितनी भिन्न खाई?",es:"Cortas una tortilla en 4 partes iguales y comes 1. \xbfQu\xe9 fracci\xf3n comiste?"},options:[{id:"a",label:{en:"1/4",hi:"1/4",es:"1/4"}},{id:"b",label:{en:"1/3",hi:"1/3",es:"1/3"}},{id:"c",label:{en:"1/2",hi:"1/2",es:"1/2"}}],correctOptionId:"a",explainer:{en:"1 out of 4 equal parts is 1/4.",hi:"4 बराबर भागों में से 1 भाग 1/4 होता है।",es:"1 de 4 partes iguales es 1/4."}},{id:"q2",difficulty:"medium",prompt:{en:"Which picture shows halves?",hi:"कौन सी तस्वीर आधे दिखाती है?",es:"\xbfQu\xe9 imagen muestra mitades?"},options:[{id:"a",label:{en:"A circle split into 2 equal parts",hi:"2 बराबर भागों में बँटा गोला",es:"Un c\xedrculo dividido en 2 partes iguales"}},{id:"b",label:{en:"A circle split into 3 equal parts",hi:"3 बराबर भागों में बँटा गोला",es:"Un c\xedrculo dividido en 3 partes iguales"}},{id:"c",label:{en:"A whole circle",hi:"पूरा गोला",es:"Un c\xedrculo entero"}}],correctOptionId:"a",explainer:{en:"Halves are 2 equal parts.",hi:"आधा मतलब 2 बराबर भाग।",es:"Mitades son 2 partes iguales."}},{id:"q3",difficulty:"hard",prompt:{en:"Select the fraction equivalent to 2/4.",hi:"2/4 के समतुल्य भिन्न चुनें।",es:"Selecciona la fracci\xf3n equivalente a 2/4."},options:[{id:"a",label:{en:"1/2",hi:"1/2",es:"1/2"}},{id:"b",label:{en:"1/4",hi:"1/4",es:"1/4"}},{id:"c",label:{en:"3/4",hi:"3/4",es:"3/4"}}],correctOptionId:"a",explainer:{en:"2/4 simplifies to 1/2 by dividing numerator and denominator by 2.",hi:"अंश और हर को 2 से भाग देकर 2/4 = 1/2।",es:"2/4 se simplifica a 1/2 dividiendo numerador y denominador por 2."}}]},reward:{title:{en:"Slice Scout",hi:"स्लाइस स्काउट",es:"Explorador de Porciones"},description:{en:"Awarded for mastering basic fractions.",hi:"आधारभूत भिन्नों में महारत के लिए।",es:"Otorgado por dominar fracciones b\xe1sicas."}}},{id:"ch-2",title:{en:"Mission 2: Fair Sharing",hi:"मिशन 2: समान बाँट",es:"Misi\xf3n 2: Reparto justo"},description:{en:"Compare fractions to decide fair shares among friends.",hi:"मित्रों के बीच बराबर बाँट तय करने हेतु भिन्नों की तुलना करें।",es:"Compara fracciones para decidir repartos justos entre amigos."},thumbUnsplash:"https://images.unsplash.com/photo-1517676109075-9ca8c2fc3a5e?q=80&w=1200&auto=format&fit=crop",quiz:{passThreshold:70,questions:[{id:"q1",difficulty:"easy",prompt:{en:"Which is larger: 3/4 or 2/4?",hi:"कौन बड़ा है: 3/4 या 2/4?",es:"\xbfCu\xe1l es mayor: 3/4 o 2/4?"},options:[{id:"a",label:{en:"3/4",hi:"3/4",es:"3/4"}},{id:"b",label:{en:"2/4",hi:"2/4",es:"2/4"}},{id:"c",label:{en:"Equal",hi:"समान",es:"Igual"}}],correctOptionId:"a",explainer:{en:"With same denominator, the bigger numerator is larger.",hi:"हर समान होने पर बड़ा अंश बड़ी भिन्न।",es:"Con el mismo denominador, el numerador mayor es m\xe1s grande."}},{id:"q2",difficulty:"medium",prompt:{en:"Which is closer to 1: 5/6 or 3/4?",hi:"1 के अधिक निकट कौन है: 5/6 या 3/4?",es:"\xbfCu\xe1l est\xe1 m\xe1s cerca de 1: 5/6 o 3/4?"},options:[{id:"a",label:{en:"5/6",hi:"5/6",es:"5/6"}},{id:"b",label:{en:"3/4",hi:"3/4",es:"3/4"}},{id:"c",label:{en:"Both equal",hi:"दोनों समान",es:"Ambos iguales"}}],correctOptionId:"a",explainer:{en:"5/6 is 1/6 away from 1; 3/4 is 1/4 away.",hi:"5/6, 1 से 1/6 दूर; 3/4, 1 से 1/4 दूर।",es:"5/6 est\xe1 a 1/6 de 1; 3/4 est\xe1 a 1/4."}}]},reward:{title:{en:"Fair Share Hero",hi:"फेयर शेयर हीरो",es:"H\xe9roe del Reparto Justo"},description:{en:"For comparing and ordering fractions.",hi:"भिन्नों की तुलना और क्रम के लिए।",es:"Por comparar y ordenar fracciones."}}},{id:"ch-3",title:{en:"Mission 3: Mix and Match",hi:"मिशन 3: मिश्रित भिन्न",es:"Misi\xf3n 3: Mezcla y Combina"},description:{en:"Understand mixed numbers and improper fractions.",hi:"मिश्रित और अशुद्ध भिन्नों को समझें।",es:"Comprende n\xfameros mixtos y fracciones impropias."},thumbUnsplash:"https://images.unsplash.com/photo-1512790182412-b19e6d62bc39?q=80&w=1200&auto=format&fit=crop",quiz:{passThreshold:70,questions:[{id:"q1",difficulty:"medium",prompt:{en:"Which is the mixed form of 7/4?",hi:"7/4 का मिश्रित रूप क्या है?",es:"\xbfCu\xe1l es la forma mixta de 7/4?"},options:[{id:"a",label:{en:"1 3/4",hi:"1 3/4",es:"1 3/4"}},{id:"b",label:{en:"2 1/4",hi:"2 1/4",es:"2 1/4"}},{id:"c",label:{en:"1 1/3",hi:"1 1/3",es:"1 1/3"}}],correctOptionId:"a",explainer:{en:"7/4 = 1 whole and 3/4.",hi:"7/4 = 1 पूरा और 3/4।",es:"7/4 = 1 entero y 3/4."}},{id:"q2",difficulty:"hard",prompt:{en:"Convert 2 2/3 to an improper fraction.",hi:"2 2/3 को अशुद्ध भिन्न में बदलें।",es:"Convierte 2 2/3 a fracci\xf3n impropia."},options:[{id:"a",label:{en:"8/3",hi:"8/3",es:"8/3"}},{id:"b",label:{en:"7/3",hi:"7/3",es:"7/3"}},{id:"c",label:{en:"5/3",hi:"5/3",es:"5/3"}}],correctOptionId:"a",explainer:{en:"2\xd73 + 2 = 8; denominator 3 stays: 8/3.",hi:"2\xd73 + 2 = 8; हर 3 रहता है: 8/3।",es:"2\xd73 + 2 = 8; el denominador 3 se mantiene: 8/3."}}]},reward:{title:{en:"Master Mixer",hi:"मास्टर मिक्सर",es:"Maestro de Mezclas"},description:{en:"For mastering mixed numbers.",hi:"मिश्रित संख्याओं में महारत के लिए।",es:"Por dominar n\xfameros mixtos."}}}]}];function su(e){var s,a,n,i;let{className:c,modules:d=sm,initialLanguage:o="en",onProgressChange:m}=e,[u,x]=(0,r.useState)(o),[p,g]=(0,r.useState)(0),j=d[p],[v,b]=(0,r.useState)(0),[N,y]=(0,r.useState)({}),[A,R]=(0,r.useState)(()=>j.chapters.map((e,s)=>({unlocked:0===s,completed:!1,scorePercent:0}))),[z,P]=(0,r.useState)(!0),[D,T]=(0,r.useState)(!1),[O,U]=(0,r.useState)(!1),[I,V]=(0,r.useState)("learn"),[_,W]=(0,r.useState)("easy"),H=j.chapters[v],Q=H.quiz,B=(0,r.useMemo)(()=>{let e=Q.questions.filter(e=>e.difficulty===_),s=Q.questions.slice(0,2);return(e.length>=2?e:Array.from(new Set([...e,...s]))).slice(0,3)},[Q.questions,_]),Y=(0,r.useMemo)(()=>A.length?function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.max(s,Math.min(a,e))}(Math.round(A.reduce((e,s)=>e+(s.completed?100:s.scorePercent),0)/A.length)):0,[A]);async function G(){U(!0);try{let{percent:e,pass:s}=function(){let e=B.length,s=0;B.forEach(e=>{N[e.id]===e.correctOptionId&&(s+=1)});let a=Math.round(s/e*100),t=_;W(a>=90?"hard":a>=70?"medium":"easy");let r=a>=Q.passThreshold;return R(e=>{let s=e.map(e=>({...e})),t=s[v];return t.scorePercent=a,r&&(t.completed=!0,v+1<s.length&&(s[v+1].unlocked=!0)),s}),{percent:a,pass:r}}();s?(l.oR.success({en:"Great! You passed with ".concat(e,"%. Advancing to the next mission..."),hi:"शानदार! आपने ".concat(e,"% के साथ पास किया। अगला मिशन शुरू..."),es:"\xa1Genial! Aprobaste con ".concat(e,"%. Avanzando a la siguiente misi\xf3n...")}[u]),V("rewards")):l.oR.message({en:"Score: ".concat(e,"%. Keep trying! We've adjusted difficulty to help."),hi:"स्कोर: ".concat(e,"%। प्रयास जारी रखें! हमने कठिनाई समायोजित की है।"),es:"Puntaje: ".concat(e,"%. \xa1Sigue intentando! Ajustamos la dificultad para ayudarte.")}[u])}finally{U(!1)}}return(0,r.useEffect)(()=>{null==m||m(Y)},[Y,m]),(0,r.useEffect)(()=>{try{let s="lq:".concat(j.id,":state"),a=localStorage.getItem(s);if(a){var e;let s=JSON.parse(a);R(null!=(e=s.chapterStates)?e:A),s.language&&x(s.language),T(!!s.offlineReady)}}catch(e){}},[j.id]),(0,r.useEffect)(()=>{let e="lq:".concat(j.id,":state"),s=JSON.stringify({chapterStates:A,language:u,offlineReady:D});try{localStorage.setItem(e,s)}catch(e){}},[j.id,A,u,D]),(0,r.useEffect)(()=>{y({}),V("learn")},[v]),(0,r.useEffect)(()=>{var e;if((null==(e=A[v])?void 0:e.completed)&&v!==j.chapters.length-1){let e=setTimeout(()=>{b(e=>e+1),V("learn")},900);return()=>clearTimeout(e)}},[A,v,j.chapters.length]),(0,t.jsxs)("section",{className:h("w-full max-w-full bg-card text-foreground rounded-[var(--radius)] border border-[--border] shadow-sm","p-4 sm:p-6",c),"aria-label":"Learning modules",children:[(0,t.jsxs)("div",{className:"w-full max-w-full flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,t.jsx)(sr.A,{className:"size-5 text-foreground/90","aria-hidden":!0}),(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold truncate min-w-0",children:j.title[u]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,t.jsx)(sl.A,{className:"size-4 text-muted-foreground","aria-hidden":!0}),(0,t.jsxs)(L,{value:u,onValueChange:e=>x(e),children:[(0,t.jsx)(M,{className:"w-[120px] bg-secondary",children:(0,t.jsx)(q,{placeholder:"Language"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"en",children:"English"}),(0,t.jsx)(F,{value:"hi",children:"हिन्दी"}),(0,t.jsx)(F,{value:"es",children:"Espa\xf1ol"})]})]})]}),(0,t.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,t.jsx)(e1,{id:"data-saver",checked:z,onCheckedChange:P,"aria-label":"Data saver mode"}),(0,t.jsx)("label",{htmlFor:"data-saver",className:"text-xs text-muted-foreground select-none",children:{en:"Data saver",hi:"डेटा सेवर",es:"Ahorro de datos"}[u]})]}),(0,t.jsxs)(f,{variant:D?"secondary":"default",className:h("gap-2",D?"bg-accent hover:bg-accent/80 text-foreground":"bg-primary text-primary-foreground"),onClick:function(){T(!0),l.oR.success({en:"Content saved for offline access.",hi:"सामग्री ऑफ़लाइन पहुँच के लिए सहेजी गई।",es:"Contenido guardado para acceso sin conexi\xf3n."}[u])},children:[(0,t.jsx)(sn.A,{className:"size-4"}),(0,t.jsx)("span",{className:"text-sm",children:D?({en:"Offline ready",hi:"ऑफ़लाइन तैयार",es:"Listo sin conexi\xf3n"})[u]:({en:"Save offline",hi:"ऑफ़लाइन सहेजें",es:"Guardar sin conexi\xf3n"})[u]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(ec,{value:Y,className:"h-2","aria-label":"Module progress"}),(0,t.jsxs)("span",{className:"text-xs tabular-nums text-muted-foreground",children:[Y,"%"]})]})]}),d.length>1&&(0,t.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:d.map((e,s)=>{let a=s===p;return(0,t.jsxs)(f,{size:"sm",variant:a?"default":"secondary",onClick:()=>{g(s),b(0),y({}),V("learn"),W("easy"),R(d[s].chapters.map((e,s)=>({unlocked:0===s,completed:!1,scorePercent:0})))},className:h("rounded-full",a?"bg-primary text-primary-foreground":"bg-secondary"),"aria-pressed":a,children:[(0,t.jsx)(si.A,{className:"size-3.5 mr-2"}),(0,t.jsx)("span",{className:"truncate max-w-[14ch]",children:e.title[u]})]},e.id)})}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(sc.A,{className:"size-4 text-muted-foreground","aria-hidden":!0}),(0,t.jsx)("span",{className:"text-sm font-medium",children:{en:"Missions",hi:"मिशन",es:"Misiones"}[u]})]}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto py-1 -mx-1 px-1",children:j.chapters.map((e,s)=>{let a=A[s],r=s===v,l=a.completed?"completed":a.unlocked?"in-progress":"locked";return(0,t.jsxs)("button",{onClick:()=>a.unlocked&&b(s),disabled:!a.unlocked,className:h("group min-w-[220px] sm:min-w-[260px] w-auto text-left p-3 rounded-[calc(var(--radius)-6px)] border","bg-secondary hover:bg-accent transition-colors focus:outline-none focus:ring-2 focus:ring-ring","disabled:opacity-50 disabled:cursor-not-allowed",r&&"bg-accent"),"aria-current":r,"aria-disabled":!a.unlocked,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:h("size-2.5 rounded-full","completed"===l?"bg-[--color-success]":"in-progress"===l?"bg-chart-3":"bg-muted-foreground/40"),"aria-hidden":!0}),(0,t.jsx)("p",{className:"text-sm font-medium truncate min-w-0",children:e.title[u]})]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2",children:e.description[u]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"completed"===l?({en:"Completed",hi:"पूर्ण",es:"Completado"})[u]:"in-progress"===l?({en:"In progress",hi:"प्रगति पर",es:"En progreso"})[u]:({en:"Locked",hi:"लॉक",es:"Bloqueado"})[u]}),(0,t.jsxs)("span",{className:"tabular-nums text-muted-foreground",children:[A[s].scorePercent,"%"]})]})]},e.id)})})]}),(0,t.jsx)("div",{className:"mt-5",children:(0,t.jsxs)(w,{value:I,onValueChange:e=>V(e),className:"w-full",children:[(0,t.jsxs)(k,{className:"grid grid-cols-3 w-full bg-secondary",children:[(0,t.jsxs)(C,{value:"learn",className:"data-[state=active]:bg-card",children:[(0,t.jsx)(sd.A,{className:"size-4 mr-2"}),{en:"Learn",hi:"सीखें",es:"Aprender"}[u]]}),(0,t.jsxs)(C,{value:"quiz",className:"data-[state=active]:bg-card",children:[(0,t.jsx)(si.A,{className:"size-4 mr-2"}),{en:"Quiz",hi:"क्विज़",es:"Cuestionario"}[u]]}),(0,t.jsxs)(C,{value:"rewards",className:"data-[state=active]:bg-card",children:[(0,t.jsx)(J.A,{className:"size-4 mr-2"}),{en:"Rewards",hi:"पुरस्कार",es:"Recompensas"}[u]]})]}),(0,t.jsx)(S,{value:"learn",className:"mt-4",children:(0,t.jsxs)(X,{className:"bg-card border",children:[(0,t.jsxs)($,{className:"pb-2",children:[(0,t.jsx)(ee,{className:"text-base sm:text-lg",children:H.title[u]}),(0,t.jsx)(es,{className:"text-sm",children:H.description[u]})]}),(0,t.jsxs)(ea,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-[calc(var(--radius)-6px)] border bg-secondary",children:[(0,t.jsx)("img",{src:H.thumbUnsplash+(z?"&dpr=1&w=800":"&dpr=2&w=1600"),alt:"",className:"w-full h-44 sm:h-56 object-cover max-w-full",loading:"lazy"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent pointer-events-none"}),(0,t.jsxs)("div",{className:"absolute bottom-2 left-2 flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-black/60 text-white px-2 py-1 text-xs",children:[(0,t.jsx)(sd.A,{className:"size-3.5"}),{en:"Story mode",hi:"कहानी मोड",es:"Modo historia"}[u]]}),z&&(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full bg-black/60 text-white px-2 py-1 text-xs",children:{en:"Low data",hi:"कम डेटा",es:"Bajo datos"}[u]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)(el,{variant:"secondary",className:"rounded-full",children:[(0,t.jsx)(so.A,{className:"size-3 mr-1.5"}),{en:"Progressive steps",hi:"क्रमिक कदम",es:"Pasos progresivos"}[u]]}),(0,t.jsxs)(el,{variant:"secondary",className:"rounded-full",children:[(0,t.jsx)(si.A,{className:"size-3 mr-1.5"}),{en:"Practice inside",hi:"अंदर अभ्यास",es:"Pr\xe1ctica incluida"}[u]]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm",children:{en:"Read the story above. When ready, switch to Quiz to test your understanding. Your difficulty adapts as you learn.",hi:"ऊपर कहानी पढ़ें। तैयार होने पर क्विज़ में जाएँ और समझ की जाँच करें। सीखते समय कठिनाई अनुकूलित होती है।",es:"Lee la historia de arriba. Cuando est\xe9s listo, cambia a Cuestionario para probar tu comprensi\xf3n. La dificultad se adapta mientras aprendes."}[u]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:{en:"Current difficulty:",hi:"वर्तमान कठिनाई:",es:"Dificultad actual:"}[u]}),(0,t.jsx)(el,{className:"rounded-full",children:"easy"===_?({en:"Easy",hi:"आसान",es:"F\xe1cil"})[u]:"medium"===_?({en:"Medium",hi:"मध्यम",es:"Media"})[u]:({en:"Hard",hi:"कठिन",es:"Dif\xedcil"})[u]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(f,{onClick:()=>V("quiz"),className:"gap-2",children:[(0,t.jsx)(si.A,{className:"size-4"}),{en:"Start Quiz",hi:"क्विज़ शुरू करें",es:"Iniciar cuestionario"}[u]]}),(0,t.jsx)(f,{variant:"secondary",onClick:function(){y({}),R(e=>{let s=e.map(e=>({...e}));return s[v].completed=!1,s[v].scorePercent=0,s}),V("learn"),l.oR.message({en:"Chapter reset. Try again!",hi:"अध्याय रीसेट। फिर से प्रयास करें!",es:"Cap\xedtulo reiniciado. \xa1Intenta de nuevo!"}[u])},children:{en:"Restart chapter",hi:"अध्याय पुनः प्रारंभ",es:"Reiniciar cap\xedtulo"}[u]})]})]})]})}),(0,t.jsx)(S,{value:"quiz",className:"mt-4",children:(0,t.jsxs)(X,{className:"bg-card border",children:[(0,t.jsxs)($,{className:"pb-2",children:[(0,t.jsx)(ee,{className:"text-base sm:text-lg",children:{en:"Chapter Quiz",hi:"अध्याय क्विज़",es:"Cuestionario del cap\xedtulo"}[u]}),(0,t.jsx)(es,{className:"text-sm",children:{en:"Answer the questions below. Passing unlocks the next mission.",hi:"नीचे दिए प्रश्नों का उत्तर दें। पास होने पर अगला मिशन अनलॉक होगा।",es:"Responde las preguntas abajo. Al aprobar, desbloqueas la siguiente misi\xf3n."}[u]})]}),(0,t.jsxs)(ea,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-3",children:B.map((e,s)=>{let a=N[e.id],r=a&&a===e.correctOptionId,l=!!a;return(0,t.jsx)("div",{className:h("p-3 rounded-[calc(var(--radius)-8px)] border bg-secondary",l&&(r?"ring-1 ring-[--color-success]":"ring-1 ring-destructive/70")),children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(el,{variant:"secondary",className:"rounded-full shrink-0",children:s+1}),(0,t.jsxs)("div",{className:"min-w-0 w-full",children:[(0,t.jsx)("p",{className:"text-sm font-medium break-words",children:e.prompt[u]}),(0,t.jsx)("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-3 gap-2",children:e.options.map(s=>{let r=a===s.id,n=e.correctOptionId===s.id&&l;return(0,t.jsx)("button",{onClick:()=>{var a,t;return a=e.id,t=s.id,void y(e=>({...e,[a]:t}))},className:h("text-left text-sm p-2 rounded-md border transition-colors","bg-card hover:bg-accent focus:outline-none focus:ring-2 focus:ring-ring",r&&"bg-accent",n&&"border-[--color-success]"),"aria-pressed":r,children:(0,t.jsx)("span",{className:"truncate block",children:s.label[u]})},s.id)})}),l&&(0,t.jsxs)("p",{className:h("mt-2 text-xs",r?"text-[--color-success]":"text-destructive"),children:[r?({en:"Correct!",hi:"सही!",es:"\xa1Correcto!"})[u]:({en:"Not quite. Tip:",hi:"ठीक नहीं। संकेत:",es:"No exactamente. Pista:"})[u]," ",e.explainer[u]]})]})]})},e.id)})}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:{en:"Auto-advance on pass",hi:"पास होने पर स्वतः आगे",es:"Avance autom\xe1tico al aprobar"}[u]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(f,{variant:"secondary",onClick:()=>V("learn"),children:{en:"Back to Learn",hi:"सीखने पर वापस",es:"Volver a Aprender"}[u]}),(0,t.jsxs)(f,{onClick:G,disabled:O,className:"gap-2",children:[(0,t.jsx)(si.A,{className:"size-4"}),O?({en:"Checking...",hi:"जाँच हो रही...",es:"Comprobando..."})[u]:({en:"Submit",hi:"सबमिट",es:"Enviar"})[u]]})]})]})]})]})}),(0,t.jsx)(S,{value:"rewards",className:"mt-4",children:(0,t.jsxs)(X,{className:"bg-card border",children:[(0,t.jsxs)($,{className:"pb-2",children:[(0,t.jsx)(ee,{className:"text-base sm:text-lg",children:{en:"Completion Rewards",hi:"पूर्णता पुरस्कार",es:"Recompensas de finalizaci\xf3n"}[u]}),(0,t.jsx)(es,{className:"text-sm",children:{en:"Earn badges as you progress. Passing this mission unlocks the next adventure.",hi:"जैसे-जैसे आगे बढ़ें, बैज कमाएँ। यह मिशन पास करने पर अगला एडवेंचर अनलॉक होगा।",es:"Gana insignias a medida que avanzas. Al aprobar esta misi\xf3n, se desbloquea la siguiente aventura."}[u]})]}),(0,t.jsxs)(ea,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:h("size-12 rounded-full flex items-center justify-center",(null==(s=A[v])?void 0:s.completed)?"bg-[--color-success-soft]":"bg-secondary"),children:(0,t.jsx)(J.A,{className:h("size-6",(null==(a=A[v])?void 0:a.completed)?"text-[--color-success]":"text-muted-foreground")})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-semibold truncate",children:H.reward.title[u]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:H.reward.description[u]}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(el,{className:"rounded-full",variant:"secondary",children:(null==(n=A[v])?void 0:n.completed)?({en:"Unlocked",hi:"अनलॉक",es:"Desbloqueado"})[u]:({en:"Locked",hi:"लॉक",es:"Bloqueado"})[u]})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:{en:"Next mission",hi:"अगला मिशन",es:"Siguiente misi\xf3n"}[u]}),(0,t.jsx)(so.A,{className:"size-4 text-muted-foreground"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(f,{variant:"secondary",disabled:!(null==(i=A[v])?void 0:i.completed),onClick:()=>{let e=v+1;e<j.chapters.length&&(b(e),V("learn"))},children:{en:"Continue",hi:"जारी रखें",es:"Continuar"}[u]}),(0,t.jsx)(f,{variant:"secondary",onClick:()=>V("quiz"),children:{en:"Retake Quiz",hi:"क्विज़ दोहराएँ",es:"Repetir cuestionario"}[u]})]})]})]})]})})]})})]})}var sx=a(7835),sh=a(5746),sp=a(1788),sg=a(6107),sj=a(9947),sf=a(9376),sv=a(1726),sb=a(1497),sN=a(8857),sy=a(7655);function sw(e){let{className:s,children:a,...r}=e;return(0,t.jsxs)(sy.bL,{"data-slot":"scroll-area",className:h("relative",s),...r,children:[(0,t.jsx)(sy.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,t.jsx)(sk,{}),(0,t.jsx)(sy.OK,{})]})}function sk(e){let{className:s,orientation:a="vertical",...r}=e;return(0,t.jsx)(sy.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:h("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",s),...r,children:(0,t.jsx)(sy.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var sC=a(9613);function sS(e){let{delayDuration:s=0,...a}=e;return(0,t.jsx)(sC.Kq,{"data-slot":"tooltip-provider",delayDuration:s,...a})}function sA(e){let{...s}=e;return(0,t.jsx)(sS,{children:(0,t.jsx)(sC.bL,{"data-slot":"tooltip",...s})})}function sR(e){let{...s}=e;return(0,t.jsx)(sC.l9,{"data-slot":"tooltip-trigger",...s})}function sz(e){let{className:s,sideOffset:a=0,children:r,...l}=e;return(0,t.jsx)(sC.ZL,{children:(0,t.jsxs)(sC.UC,{"data-slot":"tooltip-content",sideOffset:a,className:h("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",s),...l,children:[r,(0,t.jsx)(sC.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let sP="learnquest.aiTutor.conversations.v1",sL="learnquest.aiTutor.activeId.v1",sq=[{id:"concept-help",label:"Explain a concept",prompt:"Explain like I'm 12: ",icon:"concept"},{id:"targeted-practice",label:"Targeted practice",prompt:"Give me 5 practice questions on: ",icon:"practice"},{id:"motivation",label:"Motivation boost",prompt:"I need motivation about studying: ",icon:"coach"},{id:"exam-crisis",label:"Emergency study help",prompt:"I have a test soon. Help me quickly with: ",icon:"emergency"}],sM=[{value:"en",label:"English"},{value:"hi",label:"हिन्दी"},{value:"bn",label:"বাংলা"},{value:"te",label:"తెలుగు"},{value:"ta",label:"தமிழ்"},{value:"mr",label:"मराठी"},{value:"kn",label:"ಕನ್ನಡ"},{value:"pa",label:"ਪੰਜਾਬੀ"},{value:"gu",label:"ગુજરાતી"},{value:"ur",label:"اردو"}];function sE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"msg";return"".concat(e,"_").concat(Math.random().toString(36).slice(2,10),"_").concat(Date.now().toString(36))}function sF(){return Date.now()}function sD(e,s){try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):s}catch(e){return s}}function sT(e,s){try{window.localStorage.setItem(e,JSON.stringify(s))}catch(e){}}function sO(e){var s;let{className:a,studentName:n="Student",initialLanguage:i="en",progress:c,presetTopics:d=sq,onSendMessage:o,onNewConversation:m,ttsEnabledByDefault:u=!0}=e,[x,p]=(0,r.useState)(()=>sD(sP,[])),[g,j]=(0,r.useState)(()=>sD(sL,null)),[v,b]=(0,r.useState)(""),[y,w]=(0,r.useState)(i),[k,C]=(0,r.useState)(!1),[S,A]=(0,r.useState)(u),[R,z]=(0,r.useState)(!1),[P,D]=(0,r.useState)(!0),[T,O]=(0,r.useState)([]),U=(0,r.useRef)(null),I=(0,r.useRef)(null),V=(0,r.useMemo)(()=>{let e=x.find(e=>e.id===g);return null!=e?e:null},[x,g]),_=null!=(s=null==V?void 0:V.messages)?s:[];(0,r.useEffect)(()=>{sT(sP,x)},[x]),(0,r.useEffect)(()=>{sT(sL,g)},[g]),(0,r.useEffect)(()=>{let e=()=>{if(D(!0),T.length){l.oR.success("Reconnected. Syncing messages...");let e={id:sE("sys"),role:"system",content:"Synced ".concat(T.length," message(s)"),timestamp:sF(),language:y};V&&p(s=>s.map(s=>s.id===V.id?{...s,messages:[...s.messages,e],lastUpdated:sF()}:s)),O([])}else l.oR.success("Back online")},s=()=>{D(!1),l.oR.message("Offline mode",{description:"You can continue. Messages will sync when reconnected."})};return D(navigator.onLine),window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[T.length,V,y]),(0,r.useEffect)(()=>{let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return;let s=new e;s.lang=y,s.continuous=!1,s.interimResults=!0,s.onresult=e=>{let s="";for(let a=e.resultIndex;a<e.results.length;a++)s+=e.results[a][0].transcript;b(s.trim())},s.onerror=()=>{C(!1),l.oR.error("Voice input error")},s.onend=()=>{C(!1)},U.current=s},[y]),(0,r.useEffect)(()=>{let e=I.current;e&&(e.scrollTop=e.scrollHeight)},[_.length,R]),(0,r.useEffect)(()=>{if(!S)return void function(){let e=window.speechSynthesis;e&&e.speaking&&e.cancel()}();if(!_.length)return;let e=_[_.length-1];"assistant"===e.role&&function(e,s){let a=window.speechSynthesis;if(!a)return;let t=new SpeechSynthesisUtterance(e);t.lang=s;let r=a.getVoices().find(e=>{var a;return null==(a=e.lang)?void 0:a.toLowerCase().startsWith(s.toLowerCase())});r&&(t.voice=r),a.speak(t)}(e.content,e.language||y)},[_,S,y]);let W=(0,r.useCallback)(e=>{let s={id:sE("conv"),title:"Session with ".concat(n),lastUpdated:sF(),language:e,messages:[{id:sE("msg"),role:"assistant",content:"Hi ".concat(n,"! I’m your AI Tutor. How can I help you today? You can type or use the mic button."),timestamp:sF(),language:e}]};p(e=>[s,...e]),j(s.id),null==m||m(s)},[m,n]);(0,r.useEffect)(()=>{x.length?g||j(x[0].id):W(y)},[]);let H=(0,r.useCallback)(async e=>{var s,a,t;let r=(null!=e?e:v).trim();if(!r)return;V||W(y);let l=null!=(a=null==V?void 0:V.id)?a:null==(s=x[0])?void 0:s.id;if(!l)return;let n={id:sE("msg"),role:"user",content:r,timestamp:sF(),language:y};if(p(e=>e.map(e=>e.id===l?{...e,messages:[...e.messages,n],lastUpdated:sF()}:e)),null==o||o(n,null!=(t=x.find(e=>e.id===l))?t:V),b(""),z(!0),!P){O(e=>[...e,n]);let e={id:sE("sys"),role:"system",content:"Saved offline. I’ll respond when reconnected.",timestamp:sF(),language:y};p(s=>s.map(s=>s.id===l?{...s,messages:[...s.messages,e],lastUpdated:sF()}:s)),z(!1);return}setTimeout(()=>{let e=function(e,s){var a,t,r,l;let n=null!=(r=null==(a=s.progress)?void 0:a.weakAreas)?r:[],i=null!=(l=null==(t=s.progress)?void 0:t.level)?l:"beginner",c=e.toLowerCase(),d="";d=c.includes("motivation")||c.includes("motivate")?"You've got this! Let's set a tiny goal for the next 10 minutes. Pick one small topic and I'll guide you. Small steps build big progress.":c.includes("test")||c.includes("exam")||c.includes("emergency")?"Okay, rapid support mode. We'll prioritize high-yield points and a quick check of your understanding. Tell me the exact topic and the test date.":c.includes("practice")?"Here's a short, focused practice set. Try each question out loud first. I’ll adapt difficulty based on your answers.":n.some(e=>c.includes(e.toLowerCase()))?"I see this is one of your growth areas. Let's break it down with a simple example and then build up gradually.":"Great question. I’ll explain clearly with a real-world example, then we’ll try a quick check to confirm your understanding.";let o=["Can you explain this concept back to me in your own words?","Would you like 3 practice questions on this?","Should we review a weak area next".concat(n.length?" (e.g., ".concat(n[0],")"):"","?")];return"advanced"!==i?o.push("Want a simpler analogy?"):o.push("Want a deeper, exam-style explanation?"),{text:d,followUps:o}}(r,{progress:c,language:y}),s={id:sE("msg"),role:"assistant",content:"".concat(e.text,"\n\n• ").concat(e.followUps.join("\n• ")),timestamp:sF(),language:y};p(e=>e.map(e=>e.id===l?{...e,messages:[...e.messages,s],lastUpdated:sF()}:e)),z(!1)},650)},[V,x,v,y,o,P,c,W]),Q=(0,r.useCallback)(e=>{b(e.prompt),l.oR.message("Preset loaded",{description:e.label})},[]),B=(0,r.useCallback)(()=>{if(!U.current)return void l.oR.error("Voice input not supported on this device");if(k)U.current.stop(),C(!1);else try{U.current.lang=y,U.current.start(),C(!0)}catch(e){C(!1),l.oR.error("Unable to start voice input")}},[y,k]),Y=(0,r.useMemo)(()=>{var e;let s=[];if((null==c||null==(e=c.weakAreas)?void 0:e.length)&&s.push({label:"Review weak area",text:"Help me with ".concat(c.weakAreas[0])}),null==c?void 0:c.recentScores){let e=Object.entries(c.recentScores).sort((e,s)=>e[1]-s[1])[0];e&&s.push({label:"Practice low score",text:"Give me practice for ".concat(e[0])})}return s.push({label:"Explain simply",text:"Explain this simply with an example"},{label:"Give 3 questions",text:"Give me 3 practice questions"}),s.slice(0,4)},[c]),G=sx.A,K=sh.A,Z=sp.A,er=sg.A,ei=sj.A;return(0,t.jsxs)(X,{className:h("w-full bg-card border-border",a),children:[(0,t.jsxs)($,{className:"gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,t.jsx)("div",{className:"size-10 rounded-full bg-accent flex items-center justify-center",children:(0,t.jsx)(J.A,{className:"size-5 text-foreground","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)(ee,{className:"text-base sm:text-lg truncate",children:"AI Tutor Assistant"}),(0,t.jsxs)(es,{className:"text-xs sm:text-sm",children:["Personalized help for ",n]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(el,{variant:"outline",className:h("rounded-full px-2 py-1 text-xs",P?"bg-accent text-foreground border-transparent":"bg-muted text-muted-foreground"),"aria-live":"polite",children:P?"Online":"Offline"}),(0,t.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,t.jsx)(N,{htmlFor:"tts",className:"text-xs text-muted-foreground",children:"Read aloud"}),(0,t.jsx)(e1,{id:"tts",checked:S,onCheckedChange:e=>A(e),"aria-label":"Toggle text-to-speech"})]}),(0,t.jsxs)(L,{value:y,onValueChange:e=>{var s;w(e),l.oR.message("Language switched",{description:null==(s=sM.find(s=>s.value===e))?void 0:s.label})},children:[(0,t.jsxs)(M,{className:"w-[120px] h-9 bg-secondary border-input",children:[(0,t.jsx)(G,{className:"mr-2 size-4","aria-hidden":"true"}),(0,t.jsx)(q,{placeholder:"Language"})]}),(0,t.jsx)(E,{className:"bg-popover",children:sM.map(e=>(0,t.jsx)(F,{value:e.value,children:e.label},e.value))})]})]})]}),!P&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground bg-muted/60 rounded-md px-3 py-2",children:"You’re offline. Messages will be saved and synced automatically when you reconnect."})]}),(0,t.jsxs)(ea,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:null==d?void 0:d.map(e=>{let s="emergency"===e.icon?K:"coach"===e.icon?Z:"practice"===e.icon?er:ei;return(0,t.jsxs)(f,{variant:"secondary",className:"h-8 rounded-full bg-secondary text-foreground hover:bg-accent",onClick:()=>Q(e),children:[(0,t.jsx)(s,{className:"size-4 mr-2","aria-hidden":"true"}),(0,t.jsx)("span",{className:"text-xs",children:e.label})]},e.id)})}),(0,t.jsx)(eF,{className:"bg-border"}),(0,t.jsx)("div",{className:"relative rounded-xl bg-secondary p-2",role:"region","aria-label":"Chat conversation",children:(0,t.jsx)(sw,{className:"h-[360px] sm:h-[420px]",children:(0,t.jsxs)("div",{ref:I,className:"px-1 py-2 space-y-3 min-w-0",children:[_.map(e=>(0,t.jsx)(sU,{role:e.role,content:e.content,timestamp:e.timestamp},e.id)),R&&(0,t.jsx)(sI,{})]})})}),Y.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:Y.map((e,s)=>(0,t.jsxs)(f,{variant:"ghost",size:"sm",className:"h-8 rounded-full bg-accent hover:bg-accent/80 text-foreground",onClick:()=>H(e.text),children:[(0,t.jsx)(sf.A,{className:"size-4 mr-2","aria-hidden":"true"}),(0,t.jsx)("span",{className:"text-xs",children:e.label})]},"".concat(e.label,"-").concat(s)))})]}),(0,t.jsxs)(et,{className:"flex flex-col gap-3",children:[(0,t.jsx)("div",{className:"flex items-end gap-2 w-full",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(en,{value:v,onChange:e=>b(e.target.value),placeholder:"Type your question... or use the mic",className:"bg-card border-input focus-visible:ring-ring min-h-[56px] resize-none",rows:3,onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),H())},"aria-label":"Message input"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(sS,{children:[(0,t.jsxs)(sA,{children:[(0,t.jsx)(sR,{asChild:!0,children:(0,t.jsxs)(f,{type:"button",variant:k?"default":"secondary",onClick:B,className:h("h-9 rounded-full",k?"bg-primary text-primary-foreground":"bg-secondary"),"aria-pressed":k,"aria-label":k?"Stop voice input":"Start voice input",children:[(0,t.jsx)(sv.A,{className:"size-4 mr-2","aria-hidden":"true"}),k?"Listening...":"Voice"]})}),(0,t.jsx)(sz,{children:"Speak your question"})]}),(0,t.jsxs)(sA,{children:[(0,t.jsx)(sR,{asChild:!0,children:(0,t.jsxs)(f,{type:"button",variant:S?"default":"secondary",onClick:()=>A(e=>!e),className:"h-9 rounded-full","aria-pressed":S,"aria-label":"Toggle read aloud",children:[(0,t.jsx)(sb.A,{className:"size-4 mr-2","aria-hidden":"true"}),S?"Read aloud: On":"Read aloud: Off"]})}),(0,t.jsx)(sz,{children:"Toggle text-to-speech for tutor replies"})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(f,{type:"button",variant:"ghost",className:"h-9 rounded-full",onClick:()=>W(y),children:[(0,t.jsx)(sN.A,{className:"size-4 mr-2","aria-hidden":"true"}),"New"]}),(0,t.jsx)(f,{type:"button",onClick:()=>H(),className:"h-9 rounded-full",disabled:!v.trim(),children:"Send"})]})]})]})}),(0,t.jsx)(s_,{conversations:x,activeId:g,onSelect:e=>j(e),onRename:(e,s)=>p(a=>a.map(a=>a.id===e?{...a,title:s,lastUpdated:sF()}:a)),onDelete:e=>{if(p(s=>s.filter(s=>s.id!==e)),g===e){var s;let a=x.find(s=>s.id!==e);j(null!=(s=null==a?void 0:a.id)?s:null)}}})]})]})}function sU(e){let{role:s,content:a,timestamp:r}=e,l="user"===s,n=h("max-w-[85%] sm:max-w-[70%] rounded-2xl px-4 py-3 shadow-sm break-words",l?"bg-primary text-primary-foreground":"system"===s?"bg-muted text-muted-foreground":"bg-card text-foreground"),i=h("w-full flex",l?"justify-end":"justify-start");return(0,t.jsx)("div",{className:i,children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{className:n,role:"article","aria-live":"polite",children:(0,t.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:a})}),(0,t.jsx)("span",{className:"text-[11px] text-muted-foreground pl-2",children:new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})}function sI(){return(0,t.jsx)("div",{className:"w-full flex justify-start",children:(0,t.jsxs)("div",{className:"bg-card text-foreground rounded-2xl px-4 py-3 shadow-sm inline-flex items-center gap-2",children:[(0,t.jsx)("span",{className:"sr-only",children:"Tutor is typing"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(sV,{}),(0,t.jsx)(sV,{delay:"150ms"}),(0,t.jsx)(sV,{delay:"300ms"})]})]})})}function sV(e){let{delay:s="0ms"}=e;return(0,t.jsx)("span",{className:"inline-block size-2 rounded-full bg-muted-foreground/60 animate-bounce",style:{animationDelay:s},"aria-hidden":"true"})}function s_(e){let{conversations:s,activeId:a,onSelect:r,onRename:l,onDelete:n}=e;return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(sf.A,{className:"size-4 text-muted-foreground","aria-hidden":"true"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Conversation history"})]})}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto py-1",children:s.map(e=>(0,t.jsxs)("button",{onClick:()=>r(e.id),className:h("group shrink-0 text-left rounded-lg border px-3 py-2 bg-card transition","hover:bg-accent hover:border-transparent",e.id===a?"border-primary bg-accent":"border-input"),"aria-current":e.id===a?"true":"false",children:[(0,t.jsx)("div",{className:"text-sm font-medium truncate max-w-[180px]",children:e.title}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.lastUpdated).toLocaleDateString([],{month:"short",day:"numeric"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2 opacity-0 group-hover:opacity-100 transition",children:[(0,t.jsx)(sW,{label:"Rename",onClick:s=>{s.stopPropagation();let a=prompt("Rename conversation",e.title);a&&a.trim()&&l(e.id,a.trim())},children:(0,t.jsx)(sb.A,{className:"size-3.5","aria-hidden":"true"})}),(0,t.jsx)(sW,{label:"Delete",onClick:s=>{s.stopPropagation(),confirm("Delete this conversation?")&&n(e.id)},children:(0,t.jsx)(sh.A,{className:"size-3.5","aria-hidden":"true"})})]})]},e.id))})]})}function sW(e){let{label:s,onClick:a,children:r}=e;return(0,t.jsxs)("button",{type:"button",onClick:a,className:"text-xs px-2 py-1 rounded-full bg-secondary hover:bg-accent inline-flex items-center gap-1","aria-label":s,title:s,children:[r,(0,t.jsx)("span",{children:s})]})}var sH=a(7330),sQ=a(1460),sB=a(3393),sY=a(4738),sG=a(5958),sK=a(3478);function sJ(e){let{...s}=e;return(0,t.jsx)(sK.bL,{"data-slot":"accordion",...s})}function sZ(e){let{className:s,...a}=e;return(0,t.jsx)(sK.q7,{"data-slot":"accordion-item",className:h("border-b last:border-b-0",s),...a})}function sX(e){let{className:s,children:a,...r}=e;return(0,t.jsx)(sK.Y9,{className:"flex",children:(0,t.jsxs)(sK.l9,{"data-slot":"accordion-trigger",className:h("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",s),...r,children:[a,(0,t.jsx)(R.A,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function s$(e){let{className:s,children:a,...r}=e;return(0,t.jsx)(sK.UC,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:(0,t.jsx)("div",{className:h("pt-0 pb-4",s),children:a})})}let s0=[{code:"en",label:"English",native:"English"},{code:"hi",label:"Hindi",native:"हिन्दी"},{code:"bn",label:"Bengali",native:"বাংলা"},{code:"te",label:"Telugu",native:"తెలుగు"},{code:"mr",label:"Marathi",native:"मराठी"},{code:"ta",label:"Tamil",native:"தமிழ்"},{code:"gu",label:"Gujarati",native:"ગુજરાતી"},{code:"kn",label:"Kannada",native:"ಕನ್ನಡ"},{code:"ml",label:"Malayalam",native:"മലയാളം"},{code:"pa",label:"Punjabi",native:"ਪੰਜਾਬੀ"},{code:"or",label:"Odia",native:"ଓଡ଼ିଆ"},{code:"as",label:"Assamese",native:"অসমীয়া"}],s2=[{q:"How do I use LearnQuest without internet?",a:"Enable Offline Mode in Preferences. Lessons and quizzes you open will be stored on your device and sync automatically when Wi‑Fi is available.",tags:["offline","sync","rural"]},{q:"Why are videos not playing on my device?",a:"Check Device Compatibility in Troubleshooting. Try lowering video quality in Preferences > Accessibility (Reduce Motion). If issues persist, contact Support.",tags:["video","device","compatibility"]},{q:"How can I change my language?",a:"Go to Preferences and select your preferred language. The interface updates immediately.",tags:["language","ui"]},{q:"How do I reset my password?",a:"Under Profile > Security, enter your current password and set a new one that meets strength requirements.",tags:["password","security"]},{q:"I have slow connectivity in my village. What can I do?",a:"Turn on Data Saver and Auto Sync on Wi‑Fi only. Use text mode lessons and download content when you have connectivity.",tags:["rural","connectivity","slow"]}];function s1(e){var s,a,n,i,c,d,o,m,u,x,p;let{className:g,style:j,defaultLanguage:b="en",onLanguageChange:y,onProfileSave:A,onPasswordChange:R,onContactSubmit:z,initialNotifications:P,initialAccessibility:D,initialSync:T,initialPrivacy:O}=e,[U,I]=r.useState(b),[V,_]=r.useState(""),[W,H]=r.useState(""),[Q,B]=r.useState(""),[Y,G]=r.useState("https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=256&auto=format&fit=crop"),[K,J]=r.useState(null),[Z,es]=r.useState({email:!!(null==P?void 0:P.email),sms:!!(null==P?void 0:P.sms),push:null==(s=null==P?void 0:P.push)||s,weeklyDigest:null==(a=null==P?void 0:P.weeklyDigest)||a,reminders:null==(n=null==P?void 0:P.reminders)||n}),[et,er]=r.useState({highContrast:!!(null==D?void 0:D.highContrast),largeText:!!(null==D?void 0:D.largeText),reduceMotion:!!(null==D?void 0:D.reduceMotion),captions:null==(i=null==D?void 0:D.captions)||i,screenReaderHints:null==(c=null==D?void 0:D.screenReaderHints)||c}),[el,ei]=r.useState({offlineMode:null==(d=null==T?void 0:T.offlineMode)||d,autoSyncOnWifi:null==(o=null==T?void 0:T.autoSyncOnWifi)||o,dataSaver:null==(m=null==T?void 0:T.dataSaver)||m}),[ec,ed]=r.useState({profileVisibility:null!=(u=null==O?void 0:O.profileVisibility)?u:"classmates",analyticsSharing:null!=(x=null==O?void 0:O.analyticsSharing)&&x,contentFiltering:null==(p=null==O?void 0:O.contentFiltering)||p}),[eo,em]=r.useState(""),[eu,ex]=r.useState(),[eh,ep]=r.useState(""),eg=r.useMemo(()=>{let e=eo.trim().toLowerCase();return e?s2.filter(s=>s.q.toLowerCase().includes(e)||s.a.toLowerCase().includes(e)||s.tags.some(s=>s.toLowerCase().includes(e))):s2},[eo]);r.useEffect(()=>(document.documentElement.style.setProperty("--motion-safe",et.reduceMotion?"no-preference":"reduce"),()=>{K&&URL.revokeObjectURL(K)}),[et.reduceMotion]);let ej="text-base sm:text-lg font-semibold";return(0,t.jsxs)("section",{className:h("w-full max-w-full bg-card rounded-2xl border border-border p-4 sm:p-6 md:p-8 shadow-sm",g),style:j,"aria-label":"Settings and Support",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4 mb-6 sm:mb-8",children:[(0,t.jsx)("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-accent",children:(0,t.jsx)(sH.A,{className:"h-5 w-5","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Settings & Support"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your preferences, accessibility, privacy, and get help quickly."})]})]}),(0,t.jsxs)(w,{defaultValue:"profile",className:"w-full",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(k,{className:"bg-secondary/60",children:[(0,t.jsxs)(C,{value:"profile",className:"min-w-fit",children:[(0,t.jsx)(eG.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Profile"]}),(0,t.jsxs)(C,{value:"preferences",className:"min-w-fit",children:[(0,t.jsx)(sx.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Preferences"]}),(0,t.jsxs)(C,{value:"notifications",className:"min-w-fit",children:[(0,t.jsx)(sv.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Notifications"]}),(0,t.jsxs)(C,{value:"privacy",className:"min-w-fit",children:[(0,t.jsx)(sj.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Privacy"]}),(0,t.jsxs)(C,{value:"accessibility",className:"min-w-fit",children:[(0,t.jsx)(sQ.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Accessibility"]}),(0,t.jsxs)(C,{value:"support",className:"min-w-fit",children:[(0,t.jsx)(sB.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Support"]}),(0,t.jsxs)(C,{value:"account",className:"min-w-fit",children:[(0,t.jsx)(sY.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Account"]})]})}),(0,t.jsx)(S,{value:"profile",className:"mt-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Profile"})}),(0,t.jsxs)(ea,{className:"grid gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(eL,{className:"h-16 w-16 rounded-xl",children:[(0,t.jsx)(eq,{src:Y,alt:V?"".concat(V,"'s avatar"):"User avatar",className:"object-cover"}),(0,t.jsx)(eM,{className:"rounded-xl",children:"U"})]}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avatar"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,t.jsxs)("label",{htmlFor:"avatar-upload",children:[(0,t.jsx)("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"sr-only",onChange:function(e){var s;let a=null==(s=e.target.files)?void 0:s[0];if(!a)return;if(!a.type.startsWith("image/"))return void l.oR.error("Please select an image file.");let t=URL.createObjectURL(a);K&&URL.revokeObjectURL(K),J(t),G(t)}}),(0,t.jsx)(f,{variant:"secondary",size:"sm",asChild:!1,onClick:()=>{let e=document.getElementById("avatar-upload");null==e||e.click()},children:"Change"})]}),(0,t.jsx)(f,{variant:"ghost",size:"sm",onClick:()=>{G(void 0),K&&(URL.revokeObjectURL(K),J(null))},children:"Remove"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"name",children:"Full name"}),(0,t.jsx)(v,{id:"name",placeholder:"Enter your name",value:V,onChange:e=>_(e.target.value),className:"bg-background"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"email",children:"Email"}),(0,t.jsx)(v,{id:"email",type:"email",placeholder:"you@example.com",value:W,onChange:e=>H(e.target.value),className:"bg-background"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"phone",children:"Phone"}),(0,t.jsx)(v,{id:"phone",type:"tel",placeholder:"+91 98765 43210",value:Q,onChange:e=>B(e.target.value),className:"bg-background"})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(f,{onClick:function(){if(!V.trim()||!W.trim())return void l.oR.error("Please fill in your name and email.");null==A||A({name:V.trim(),email:W.trim(),phone:Q.trim(),avatarUrl:Y}),l.oR.success("Profile updated",{description:"Your profile changes have been saved."})},children:"Save changes"})})]})]}),(0,t.jsxs)(X,{className:"bg-card",children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Security"})}),(0,t.jsx)(ea,{children:(0,t.jsxs)("form",{onSubmit:function(e){var s,a,t;e.preventDefault();let r=e.currentTarget,n=null==(s=r.elements.namedItem("currentPassword"))?void 0:s.value,i=null==(a=r.elements.namedItem("newPassword"))?void 0:a.value,c=null==(t=r.elements.namedItem("confirmPassword"))?void 0:t.value;return n&&i?i.length<8?void l.oR.error("Password too short",{description:"Use at least 8 characters."}):i!==c?void l.oR.error("Passwords do not match."):void(null==R||R({current:n,next:i}),l.oR.success("Password changed",{description:"Use your new password next time you sign in."}),r.reset()):void l.oR.error("Please complete all password fields.")},className:"grid gap-4 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"currentPassword",children:"Current password"}),(0,t.jsx)(v,{id:"currentPassword",name:"currentPassword",type:"password",className:"bg-background"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"newPassword",children:"New password"}),(0,t.jsx)(v,{id:"newPassword",name:"newPassword",type:"password",className:"bg-background"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"At least 8 characters."})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"confirmPassword",children:"Confirm new password"}),(0,t.jsx)(v,{id:"confirmPassword",name:"confirmPassword",type:"password",className:"bg-background"})]}),(0,t.jsx)("div",{className:"sm:col-span-3 flex justify-end pt-2",children:(0,t.jsx)(f,{type:"submit",children:"Update password"})})]})})]})]})}),(0,t.jsx)(S,{value:"preferences",className:"mt-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Language & Region"})}),(0,t.jsxs)(ea,{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"language",children:"Language"}),(0,t.jsxs)(L,{value:U,onValueChange:e=>{I(e),l.oR.success("Language updated",{description:"Your interface has been updated."}),null==y||y(e)},children:[(0,t.jsx)(M,{id:"language",className:"bg-background",children:(0,t.jsx)(q,{placeholder:"Select language"})}),(0,t.jsx)(E,{children:s0.map(e=>(0,t.jsxs)(F,{value:e.code,children:[e.label," — ",e.native]},e.code))})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Interface updates immediately after selection."})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"content-language",children:"Content language preference"}),(0,t.jsxs)(L,{onValueChange:e=>{l.oR.message("Content language set",{description:e.toUpperCase()})},children:[(0,t.jsx)(M,{id:"content-language",className:"bg-background",children:(0,t.jsx)(q,{placeholder:"Follow interface"})}),(0,t.jsx)(E,{children:s0.map(e=>(0,t.jsxs)(F,{value:e.code,children:[e.label," — ",e.native]},e.code))})]})]})]})]}),(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Data & Sync"})}),(0,t.jsxs)(ea,{className:"grid gap-4",children:[(0,t.jsx)(s4,{label:"Offline mode",description:"Use LearnQuest without internet. Content is cached and syncs when online.",checked:el.offlineMode,onCheckedChange:e=>ei(s=>({...s,offlineMode:e}))}),(0,t.jsx)(s4,{label:"Auto sync on Wi‑Fi",description:"Sync downloads and progress automatically on Wi‑Fi.",checked:el.autoSyncOnWifi,onCheckedChange:e=>ei(s=>({...s,autoSyncOnWifi:e}))}),(0,t.jsx)(s4,{label:"Data saver",description:"Lower data usage by reducing media quality and prefetching.",checked:el.dataSaver,onCheckedChange:e=>ei(s=>({...s,dataSaver:e}))}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsx)(f,{variant:"secondary",onClick:()=>l.oR.success("Sync settings saved"),children:"Save sync settings"})})]})]})]})}),(0,t.jsx)(S,{value:"notifications",className:"mt-6",children:(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Notification Preferences"})}),(0,t.jsxs)(ea,{className:"grid gap-4",children:[(0,t.jsx)(s4,{label:"Email updates",description:"Announcements, class updates, and progress reports.",checked:Z.email,onCheckedChange:e=>es(s=>({...s,email:e}))}),(0,t.jsx)(s4,{label:"SMS alerts",description:"Receive important alerts via text message.",checked:Z.sms,onCheckedChange:e=>es(s=>({...s,sms:e}))}),(0,t.jsx)(s4,{label:"Push notifications",description:"Real-time updates on assignments and achievements.",checked:Z.push,onCheckedChange:e=>es(s=>({...s,push:e}))}),(0,t.jsx)(eF,{}),(0,t.jsx)(s4,{label:"Weekly digest",description:"Summary of your learning progress every week.",checked:Z.weeklyDigest,onCheckedChange:e=>es(s=>({...s,weeklyDigest:e}))}),(0,t.jsx)(s4,{label:"Reminders",description:"Reminders for due tasks and upcoming classes.",checked:Z.reminders,onCheckedChange:e=>es(s=>({...s,reminders:e}))}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsx)(f,{onClick:()=>l.oR.success("Notification preferences saved"),children:"Save preferences"})})]})]})}),(0,t.jsx)(S,{value:"privacy",className:"mt-6",children:(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Privacy Controls"})}),(0,t.jsxs)(ea,{className:"grid gap-6",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"visibility",children:"Profile visibility"}),(0,t.jsxs)(L,{value:ec.profileVisibility,onValueChange:e=>ed(s=>({...s,profileVisibility:e})),children:[(0,t.jsx)(M,{id:"visibility",className:"bg-background",children:(0,t.jsx)(q,{placeholder:"Select visibility"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"everyone",children:"Everyone"}),(0,t.jsx)(F,{value:"classmates",children:"Classmates"}),(0,t.jsx)(F,{value:"only-me",children:"Only me"})]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Control who can see your profile and achievements."})]}),(0,t.jsx)(s4,{label:"Share anonymized analytics",description:"Help us improve by sharing usage metrics without personal data.",checked:ec.analyticsSharing,onCheckedChange:e=>ed(s=>({...s,analyticsSharing:e}))}),(0,t.jsx)(s4,{label:"Content filtering",description:"Hide sensitive or distracting content where possible.",checked:ec.contentFiltering,onCheckedChange:e=>ed(s=>({...s,contentFiltering:e}))}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(f,{variant:"secondary",onClick:()=>l.oR.success("Privacy settings saved"),children:"Save privacy settings"})})]})]})}),(0,t.jsx)(S,{value:"accessibility",className:"mt-6",children:(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Accessibility Options"})}),(0,t.jsxs)(ea,{className:"grid gap-4",children:[(0,t.jsx)(s4,{label:"High contrast",description:"Improve readability with higher contrast colors.",checked:et.highContrast,onCheckedChange:e=>er(s=>({...s,highContrast:e}))}),(0,t.jsx)(s4,{label:"Large text",description:"Increase text size for better legibility.",checked:et.largeText,onCheckedChange:e=>er(s=>({...s,largeText:e}))}),(0,t.jsx)(s4,{label:"Reduce motion",description:"Minimize animations and transitions.",checked:et.reduceMotion,onCheckedChange:e=>er(s=>({...s,reduceMotion:e}))}),(0,t.jsx)(s4,{label:"Captions",description:"Show captions for audio/video where available.",checked:et.captions,onCheckedChange:e=>er(s=>({...s,captions:e}))}),(0,t.jsx)(s4,{label:"Screen reader hints",description:"Provide additional descriptions for assistive tech.",checked:et.screenReaderHints,onCheckedChange:e=>er(s=>({...s,screenReaderHints:e}))}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(f,{onClick:()=>l.oR.success("Accessibility preferences saved"),children:"Save accessibility"})})]})]})}),(0,t.jsx)(S,{value:"support",className:"mt-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Find Answers"})}),(0,t.jsxs)(ea,{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"faq-search",className:"sr-only",children:"Search help"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v,{id:"faq-search",placeholder:"Search FAQs (e.g., offline, password, video)",value:eo,onChange:e=>em(e.target.value),className:"bg-background"}),(0,t.jsx)(f,{variant:"secondary",onClick:()=>{let e=eg[0];e?l.oR.message("Top result",{description:e.q}):l.oR.message("No results",{description:"Try a different keyword."})},children:"Search"})]})]}),(0,t.jsx)(sJ,{type:"single",collapsible:!0,className:"w-full",children:eg.map((e,s)=>(0,t.jsxs)(sZ,{value:"faq-".concat(s),children:[(0,t.jsx)(sX,{className:"text-left",children:e.q}),(0,t.jsx)(s$,{children:(0,t.jsx)("p",{className:"text-sm leading-relaxed",children:e.a})})]},s))})]})]}),(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"AI Chat Support"})}),(0,t.jsxs)(ea,{className:"grid gap-3",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ask a quick question. Our assistant will guide you to the right resource."}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"chat-question",className:"sr-only",children:"Your question"}),(0,t.jsx)(en,{id:"chat-question",placeholder:"Type your question here...",className:"bg-background min-h-24",onKeyDown:e=>{"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),l.oR.info("Sending to AI assistant…"))}})]}),(0,t.jsx)("div",{className:"flex justify-end gap-2",children:(0,t.jsx)(f,{variant:"secondary",onClick:()=>l.oR.info("Sending to AI assistant…"),children:"Ask"})})]})]}),(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Contact Support"})}),(0,t.jsx)(ea,{children:(0,t.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!eu||!eh.trim())return void l.oR.error("Please select a category and enter your message.");null==z||z({category:eu,message:eh.trim()}),l.oR.success("Message sent",{description:"Our team will get back to you shortly."}),ex(void 0),ep("")},className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"category",children:"Category"}),(0,t.jsxs)(L,{value:eu,onValueChange:e=>ex(e),children:[(0,t.jsx)(M,{id:"category",className:"bg-background",children:(0,t.jsx)(q,{placeholder:"Choose a category"})}),(0,t.jsxs)(E,{children:[(0,t.jsx)(F,{value:"technical",children:"Technical"}),(0,t.jsx)(F,{value:"billing",children:"Billing"}),(0,t.jsx)(F,{value:"feedback",children:"Feedback"}),(0,t.jsx)(F,{value:"other",children:"Other"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N,{htmlFor:"message",children:"Message"}),(0,t.jsx)(en,{id:"message",value:eh,onChange:e=>ep(e.target.value),placeholder:"Describe your issue or question",className:"bg-background min-h-28"})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(f,{type:"submit",children:"Send message"})})]})})]}),(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Troubleshooting"})}),(0,t.jsxs)(ea,{className:"grid gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(sG.A,{className:"h-4 w-4","aria-hidden":"true"}),(0,t.jsx)("h4",{className:"font-medium",children:"Rural Connectivity Tips"})]}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,t.jsx)("li",{children:"Enable Offline Mode and Data Saver in Preferences."}),(0,t.jsx)("li",{children:"Download lessons when connected to Wi‑Fi (school or community center)."}),(0,t.jsx)("li",{children:"Prefer text-based lessons; reduce motion and media quality."}),(0,t.jsx)("li",{children:"Sync progress during low-traffic hours (early morning/late night)."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(sY.A,{className:"h-4 w-4","aria-hidden":"true"}),(0,t.jsx)("h4",{className:"font-medium",children:"Device Compatibility"})]}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[(0,t.jsx)("li",{children:"Update your device OS and browser to the latest version available."}),(0,t.jsx)("li",{children:"Enable storage permissions to allow content downloads."}),(0,t.jsx)("li",{children:"If videos stutter, lower quality or use captions-only mode."}),(0,t.jsx)("li",{children:"Clear app cache if UI feels slow; restart the app."})]})]})]})]})]})}),(0,t.jsx)(S,{value:"account",className:"mt-6",children:(0,t.jsxs)(X,{children:[(0,t.jsx)($,{children:(0,t.jsx)(ee,{className:ej,children:"Account Management"})}),(0,t.jsxs)(ea,{className:"grid gap-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your account and export or delete your data."}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsx)(f,{variant:"secondary",onClick:()=>l.oR.message("Export requested",{description:"We’ll email your data export."}),children:"Export my data"}),(0,t.jsx)(f,{variant:"ghost",onClick:()=>l.oR.info("Sign out",{description:"You have been signed out on this device."}),children:"Sign out"}),(0,t.jsx)(f,{variant:"destructive",onClick:()=>(0,l.oR)("Confirm deletion",{description:"Please contact support to permanently delete your account."}),children:"Delete account"})]})]})]})})]})]})}function s4(e){let{label:s,description:a,checked:r,onCheckedChange:l}=e;return(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 p-3 rounded-xl bg-secondary/40",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-6",children:s}),a?(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:a}):null]}),(0,t.jsx)(e1,{checked:r,onCheckedChange:l,"aria-label":s})]})}function s3(){let[e,s]=r.useState(null),[a,l]=r.useState(null),[n,i]=r.useState(null);return(0,t.jsxs)("main",{className:"min-h-dvh w-full bg-background text-foreground",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-10 w-full border-b border-border bg-card/70 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:[(0,t.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between gap-3 px-4 py-3",children:[(0,t.jsxs)("div",{className:"flex min-w-0 items-center gap-3",children:[(0,t.jsx)("div",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-accent",children:(0,t.jsx)("span",{className:"text-sm font-bold",children:"LQ"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"truncate text-sm font-semibold leading-5",children:"LearnQuest"}),(0,t.jsx)("p",{className:"truncate text-xs text-muted-foreground leading-4",children:"Gamified learning for rural education"})]})]}),e&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"hidden sm:inline-flex items-center gap-2 rounded-full border border-border bg-secondary px-3 py-1 text-xs",children:[(0,t.jsx)("span",{className:"font-medium capitalize",children:e}),(null==a?void 0:a.name)?(0,t.jsxs)("span",{className:"text-muted-foreground",children:["• ",a.name]}):null]}),(0,t.jsx)("button",{type:"button",onClick:function(){s(null),l(null),i(null)},className:"rounded-lg border border-border bg-card px-3 py-1.5 text-xs font-medium hover:bg-accent","aria-label":"Sign out",children:"Sign out"})]})]}),e&&n&&(0,t.jsx)("nav",{className:"border-t border-border",children:(0,t.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center gap-2 overflow-x-auto px-4 py-2",children:["student"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s5,{active:"student:modules"===n,onClick:()=>i("student:modules"),label:"Missions"}),(0,t.jsx)(s5,{active:"student:tutor"===n,onClick:()=>i("student:tutor"),label:"AI Tutor"}),(0,t.jsx)(s5,{active:"student:settings"===n,onClick:()=>i("student:settings"),label:"Settings"})]}),"teacher"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s5,{active:"teacher:dashboard"===n,onClick:()=>i("teacher:dashboard"),label:"Dashboard"}),(0,t.jsx)(s5,{active:"teacher:settings"===n,onClick:()=>i("teacher:settings"),label:"Settings"})]}),"admin"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s5,{active:"admin:dashboard"===n,onClick:()=>i("admin:dashboard"),label:"Dashboard"}),(0,t.jsx)(s5,{active:"admin:settings"===n,onClick:()=>i("admin:settings"),label:"Settings"})]})]})})]}),(0,t.jsx)("div",{className:"mx-auto max-w-6xl px-4 py-6",children:e&&n?(0,t.jsxs)("div",{className:"grid gap-6",children:["student"===e&&a&&(0,t.jsxs)(t.Fragment,{children:["student:modules"===n&&(0,t.jsx)(su,{className:"w-full",initialLanguage:a.language||"en"}),"student:tutor"===n&&(0,t.jsx)(sO,{className:"w-full",studentName:a.name,initialLanguage:a.language||"en",progress:{level:"beginner",weakAreas:["fractions"]}}),"student:settings"===n&&(0,t.jsx)(s1,{className:"w-full",defaultLanguage:a.language||"en",initialSync:{offlineMode:!0,autoSyncOnWifi:!0,dataSaver:!0},initialAccessibility:{reduceMotion:!0,captions:!0},onLanguageChange:()=>{}})]}),"teacher"===e&&(0,t.jsxs)(t.Fragment,{children:["teacher:dashboard"===n&&(0,t.jsx)(eO,{className:"w-full"}),"teacher:settings"===n&&(0,t.jsx)(s1,{className:"w-full",defaultLanguage:(null==a?void 0:a.language)||"en",initialNotifications:{weeklyDigest:!0,reminders:!0}})]}),"admin"===e&&(0,t.jsxs)(t.Fragment,{children:["admin:dashboard"===n&&(0,t.jsx)(st,{className:"w-full"}),"admin:settings"===n&&(0,t.jsx)(s1,{className:"w-full",defaultLanguage:(null==a?void 0:a.language)||"en",initialPrivacy:{analyticsSharing:!1}})]})]}):(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-5",children:[(0,t.jsx)("div",{className:"order-2 md:order-1 md:col-span-3",children:(0,t.jsx)(V,{className:"w-full",defaultMode:"signup",onComplete:function(e){s(e.role),l(e.user),"student"===e.role&&i("student:modules"),"teacher"===e.role&&i("teacher:dashboard"),"admin"===e.role&&i("admin:dashboard")}})}),(0,t.jsx)("aside",{className:"order-1 md:order-2 md:col-span-2",children:(0,t.jsx)(s6,{})})]})}),(0,t.jsx)("footer",{className:"mt-8 border-t border-border",children:(0,t.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col items-center justify-between gap-3 px-4 py-6 sm:flex-row",children:[(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["\xa9 ",new Date().getFullYear()," LearnQuest. Empowering rural learners."]}),!e&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Accessible • Offline-first • Multilingual"})})]})})]})}function s5(e){let{active:s,onClick:a,label:r}=e;return(0,t.jsx)("button",{type:"button",onClick:a,className:["rounded-full px-3 py-1.5 text-sm font-medium",s?"bg-primary text-primary-foreground":"bg-secondary text-foreground hover:bg-accent"].join(" "),"aria-current":s?"page":void 0,children:r})}function s6(){return(0,t.jsxs)("section",{className:"w-full rounded-2xl border border-border bg-card p-4 sm:p-6",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"Welcome to LearnQuest"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"A lightweight, gamified platform designed for low-cost Android devices. Choose your role to begin."})]}),(0,t.jsxs)("ul",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("li",{className:"rounded-xl border border-border bg-secondary p-3",children:[(0,t.jsx)("p",{className:"font-medium",children:"Students"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Learn with quests, earn badges, and track your progress. Works offline with sync."})]}),(0,t.jsxs)("li",{className:"rounded-xl border border-border bg-secondary p-3",children:[(0,t.jsx)("p",{className:"font-medium",children:"Teachers"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage classes, assignments, and analytics with simple, reliable tools."})]}),(0,t.jsxs)("li",{className:"rounded-xl border border-border bg-secondary p-3",children:[(0,t.jsx)("p",{className:"font-medium",children:"Admins"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Oversee users, content approvals, and system health from one place."})]})]}),(0,t.jsx)("div",{className:"mt-4 rounded-xl border border-dashed border-border p-3",children:(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tip: Enable Data Saver and Offline mode for best experience on slow networks."})})]})}},8579:(e,s,a)=>{Promise.resolve().then(a.bind(a,5997))}},e=>{var s=s=>e(e.s=s);e.O(0,[396,441,684,358],()=>s(8579)),_N_E=e.O()}]);